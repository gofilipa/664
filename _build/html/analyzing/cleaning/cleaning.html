
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>cleaning our text &#8212; Python for Programming Cultural Heritage</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'analyzing/cleaning/cleaning';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="introduction to pandas" href="../pandas.html" />
    <link rel="prev" title="chapter overview" href="../overview.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="Python for Programming Cultural Heritage - Home"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="Python for Programming Cultural Heritage - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Introduction to Python for Programming Cultural Heritage
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">intro to python</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../intro/overview.html">chapter overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/script.html">opening challenge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/data-types.html">data types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/variables.html">variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/lists.html">lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/loops.html">loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/logic.html">logic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/csv.html">the <code class="docutils literal notranslate"><span class="pre">csv</span></code> module</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">gathering data</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../gathering/overview.html">chapter overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gathering/what.html">what is web scraping?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gathering/inspector.html">the HTML Inspector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gathering/scraping.html">scraping with <code class="docutils literal notranslate"><span class="pre">bs4</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gathering/to-dataframe.html">saving scraped data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gathering/ethics.html">what is ethical? what is legal?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gathering/dicts.html">dictionaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gathering/met_api.html">The MET API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gathering/nyt_api.html">NYT API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gathering/legiscan_api.html">Legiscan API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gathering/karol.html">Genius API</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">analyzing data</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">chapter overview</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">cleaning our text</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pandas.html">introduction to <code class="docutils literal notranslate"><span class="pre">pandas</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../pandas_2.html">visualizing data with <code class="docutils literal notranslate"><span class="pre">pandas</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../generating/hf.html">Huggingfaceü§ó platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generating/inference.html">running inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generating/fine-tune.html">fine-tuning</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">publishing</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../publish/github.html">introduction to github</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../publish/git.html">introduction to git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../publish/jekyll.html">publishing a static site</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fanalyzing/cleaning/cleaning.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/analyzing/cleaning/cleaning.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>cleaning our text</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#inspecting-our-text">inspecting our text</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#looping-through-the-text-to-replace-it">looping through the text to <code class="docutils literal notranslate"><span class="pre">replace()</span></code> it</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#challenge-replacing-with-spaces">challenge: replacing with spaces</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#function-to-automate-cleaning">function to automate cleaning</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cleaning-with-chatgpt">cleaning with chatgpt</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prompt-clean-all-of-the-blank-spaces-and-extraneous-characters-from-this-text-with-python">prompt: clean all of the blank spaces and extraneous characters from this text with python.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#follow-up-prompt">follow-up prompt:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">follow-up prompt:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">follow-up prompt</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">follow-up prompt</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">follow-up prompt</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cleaning-tabular-data-with-openrefine">cleaning tabular data with OpenRefine</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cleaning-the-title-column">cleaning the ‚Äútitle‚Äù column</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="cleaning-our-text">
<h1>cleaning our text<a class="headerlink" href="#cleaning-our-text" title="Link to this heading">#</a></h1>
<p>In this section we will clean the bill text that we scraped from the last section. We will do this in the following steps:</p>
<ol class="arabic simple">
<li><p>get our text (if we don‚Äôt already have it loaded up) from either scraping or loading the file from the previous section.</p></li>
<li><p>inspect our text to identify elements that we want to clean</p></li>
<li><p>write loops to remove these elements from the text</p></li>
<li><p>learn about functions so we can write one to clean our text in an automatic way</p></li>
<li><p>keep improving the funtion to clean more and more elements</p></li>
</ol>
<p>Then, at the end, we will look at other tools (ChatGPT and OpenRefine) to help with the cleaning process.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># run the lines below to load up the text from the course website</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="n">source</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://bit.ly/transgender_text&#39;</span><span class="p">)</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">content</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">text</span><span class="p">[:</span><span class="mi">100</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>b&#39;&lt;html&gt;&lt;body&gt;&lt;pre&gt;\n[Congressional Bills 117th Congress]\n[From the U.S. Government Publishing Office]\n&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>bytes
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># alternatively, uncomment the bottom four lines to load it from your own space</span>
<span class="c1"># notice that the data is already in a string format.</span>

<span class="c1"># load = open(&#39;sample.txt&#39;)</span>
<span class="c1"># loaded_text = load.read()</span>
<span class="c1"># load.close()</span>
<span class="c1"># loaded_text[:100]</span>
</pre></div>
</div>
</div>
</div>
<section id="inspecting-our-text">
<h2>inspecting our text<a class="headerlink" href="#inspecting-our-text" title="Link to this heading">#</a></h2>
<p>Remember slicing? Take some slices of the text to see what elements we want to clean. Come up with a list of things that we want to remove.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">text</span><span class="p">[:</span><span class="mi">1000</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;&lt;html&gt;&lt;body&gt;&lt;pre&gt;\n[Congressional Bills 117th Congress]\n[From the U.S. Government Publishing Office]\n[H.R. 1112 Introduced in House (IH)]\n\n&amp;lt;DOC&amp;gt;\n\n\n\n\n\n\n117th CONGRESS\n  1st Session\n                                H. R. 1112\n\n   To require a report on the military coup in Burma, and for other \n                               purposes.\n\n\n_______________________________________________________________________\n\n\n                    IN THE HOUSE OF REPRESENTATIVES\n\n                           February 18, 2021\n\n    Mr. Connolly (for himself, Mr. Price of North Carolina, and Mr. \n  Buchanan) introduced the following bill; which was referred to the \n                      Committee on Foreign Affairs\n\n_______________________________________________________________________\n\n                                 A BILL\n\n\n \n   To require a report on the military coup in Burma, and for other \n                               purposes.\n\n    Be it enacted by the Senate and House of Representatives of the&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">text</span><span class="p">[</span><span class="mi">3000</span><span class="p">:</span><span class="mi">4000</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;due to the Burmese military&#39;s \n        actions directly threatens the democratic trajectory of Burma&#39;s \n        Parliament, and thereby the country;\n            (3) the will and determination of those duly-elected \n        Members of Parliament who are taking it upon themselves to \n        continue serving as representatives of the people through \n        alternative methods of communicating and convening should be \n        lauded; and\n            (4) by preventing the Parliament from completing its work, \n        the Burmese military has rendered impossible and effectively \n        nullified the international collaborative relationships that \n        have supported and strengthened the institution, including the \n        Burmese parliament&#39;s partnership with HDP.\n\nSEC. 4. STATEMENT OF POLICY.\n\n    It is the policy of the United States to--\n            (1) engage with the Association of Southeast Asian Nations \n        (ASEAN) and ASEAN member states to--\n                    (A) condem&quot;
</pre></div>
</div>
</div>
</div>
</section>
<section id="looping-through-the-text-to-replace-it">
<h2>looping through the text to <code class="docutils literal notranslate"><span class="pre">replace()</span></code> it<a class="headerlink" href="#looping-through-the-text-to-replace-it" title="Link to this heading">#</a></h2>
<p>These are the elements we want to clean, as well as the large blank spaces:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">n</span>
<span class="o">/</span><span class="n">n</span>
\\<span class="n">n</span>
<span class="n">_</span>
<span class="p">[</span>
<span class="p">]</span>
<span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;&lt;</span><span class="n">body</span><span class="o">&gt;&lt;</span><span class="n">pre</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;&lt;</span><span class="n">body</span><span class="o">&gt;&lt;</span><span class="n">pre</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>When you have a lot of items to remove at once, it‚Äôs best to put them into a list. Then we can write a loop that goes through each item in the ‚Äútake out‚Äù list to see if it‚Äôs in the text data. If it is, we will replace that item with a blank space.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">to_take_out</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;/n&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">n&#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="s1">&#39;[&#39;</span><span class="p">,</span> <span class="s1">&#39;]&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;html&gt;&lt;body&gt;&lt;pre&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;html&gt;&lt;body&gt;&lt;pre&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;  &#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">to_take_out</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
        <span class="c1"># here is a complicated line of code: </span>
        <span class="c1"># we are replacing the item with nothing, indicated by two quotes </span>
        <span class="c1"># then we are saving those results to &quot;text&quot;, effectively overwriting</span>
        <span class="c1"># the variable. </span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">text</span><span class="p">[:</span><span class="mi">1000</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;Congressional Bills 117th CongressFrom the U.S. Government Publishing OfficeH.R. 1112 Introduced in House (IH)&amp;lt;DOC&amp;gt;117th CONGRESS1st SessionH. R. 1112 To require a report on the military coup in Burma, and for otherpurposes.IN THE HOUSE OF REPRESENTATIVES February 18, 2021Mr. Connolly (for himself, Mr. Price of North Carolina, and Mr. Buchanan) introduced the following bill; which was referred to the Committee on Foreign Affairs A BILLTo require a report on the military coup in Burma, and for otherpurposes.Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled,SECTION 1. SHORT TITLE.This Act may be cited as the ``Protect Democracy in Burma Act of 2021&#39;&#39;.SEC. 2. FINDINGS.Congress finds the following:(1) On March 14, 2005, the House of Representatives agreed to H. Res. 135, which established the House Democracy Assistance Commission (later changed to the House Democracy Partnership, hereafter referred to as ``HDP&#39;&#39;) to work di&quot;
</pre></div>
</div>
</div>
</div>
</section>
<section id="challenge-replacing-with-spaces">
<h2>challenge: replacing with spaces<a class="headerlink" href="#challenge-replacing-with-spaces" title="Link to this heading">#</a></h2>
<p>Notice that now some of the words in our dataset are joined with other words. That‚Äôs because we took out the new lines. How could we change the code so that we keep spaces between words?</p>
</section>
<section id="function-to-automate-cleaning">
<h2>function to automate cleaning<a class="headerlink" href="#function-to-automate-cleaning" title="Link to this heading">#</a></h2>
<p>Let‚Äôs say we want to do this to many bits of text, not just one. We could automate the work by writing a function that can run on as many texts as we want.</p>
<p>Functions have two key components: the definition and the call. You first define the function and what it does, then you ‚Äúcall‚Äù it to get it to work on a particular piece of data.</p>
<p>Let‚Äôs start with the definition. First, you name the function, and include parentheses for your parameters (more on this in a moment). Then, in the body of the definition, you write whatever python code you want to execute for that function. Finally, you have a return statement that saves or ‚Äúreturns‚Äù the result, so to speak, from the function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
    <span class="n">answer</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
    <span class="k">return</span> <span class="n">answer</span>
</pre></div>
</div>
</div>
</div>
<p>Then we call the function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">add</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10021</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>10026
</pre></div>
</div>
</div>
</div>
<p>The basic idea is that the input data, whatever data you want the function to work with, goes inside the parentheses. So that within the body of the function definition, that input data (known formally as ‚Äúparameters‚Äù) gets assigned to whatever variable is in the definition.</p>
<p>This makes functions portable, so to speak, as you can write one, then call it using whatever input data that you like.</p>
<p>What would a function for our text cleaner look like?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># remove all the characters in the &quot;take out&quot; list by writing a</span>
<span class="c1"># loop that replaces those characters with an empty character, &#39;&#39;</span>
<span class="k">def</span><span class="w"> </span><span class="nf">clean_up</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">to_take_out</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;/n&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">n&#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="s1">&#39;[&#39;</span><span class="p">,</span> <span class="s1">&#39;]&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;html&gt;&lt;body&gt;&lt;pre&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;html&gt;&lt;body&gt;&lt;pre&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;  &#39;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">to_take_out</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cleaned</span> <span class="o">=</span> <span class="n">clean_up</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cleaned</span><span class="p">[:</span><span class="mi">1000</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;Congressional Bills 117th CongressFrom the U.S. Government Publishing OfficeH.R. 1112 Introduced in House (IH)&amp;lt;DOC&amp;gt;117th CONGRESS1st SessionH. R. 1112 To require a report on the military coup in Burma, and for otherpurposes.IN THE HOUSE OF REPRESENTATIVES February 18, 2021Mr. Connolly (for himself, Mr. Price of North Carolina, and Mr. Buchanan) introduced the following bill; which was referred to the Committee on Foreign Affairs A BILLTo require a report on the military coup in Burma, and for otherpurposes.Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled,SECTION 1. SHORT TITLE.This Act may be cited as the ``Protect Democracy in Burma Act of 2021&#39;&#39;.SEC. 2. FINDINGS.Congress finds the following:(1) On March 14, 2005, the House of Representatives agreed to H. Res. 135, which established the House Democracy Assistance Commission (later changed to the House Democracy Partnership, hereafter referred to as ``HDP&#39;&#39;) to work di&quot;
</pre></div>
</div>
</div>
</div>
<p>Finally, we save our text. And that‚Äôs it!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;clean_sample.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cleaned</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="cleaning-with-chatgpt">
<h2>cleaning with chatgpt<a class="headerlink" href="#cleaning-with-chatgpt" title="Link to this heading">#</a></h2>
<section id="prompt-clean-all-of-the-blank-spaces-and-extraneous-characters-from-this-text-with-python">
<h3>prompt: clean all of the blank spaces and extraneous characters from this text with python.<a class="headerlink" href="#prompt-clean-all-of-the-blank-spaces-and-extraneous-characters-from-this-text-with-python" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">html</span><span class="w"> </span><span class="kn">import</span> <span class="n">unescape</span>

<span class="k">def</span><span class="w"> </span><span class="nf">clean_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="c1"># Remove HTML tags</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&lt;.*?&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
    
    <span class="c1"># Unescape HTML entities</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">unescape</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    
    <span class="c1"># Remove extra blank lines and whitespace</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\n\s*\n&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>  <span class="c1"># Remove multiple newlines</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s+&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1"># Normalize spaces</span>

    <span class="k">return</span> <span class="n">text</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="n">clean_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">text</span><span class="p">[:</span><span class="mi">10000</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;Congressional Bills 117th CongressFrom the U.S. Government Publishing OfficeH.R. 1112 Introduced in House (IH)&lt;DOC&gt;117th CONGRESS1st SessionH. R. 1112 To require a report on the military coup in Burma, and for otherpurposes.IN THE HOUSE OF REPRESENTATIVES February 18, 2021Mr. Connolly (for himself, Mr. Price of North Carolina, and Mr. Buchanan) introduced the following bill; which was referred to the Committee on Foreign Affairs A BILLTo require a report on the military coup in Burma, and for otherpurposes.Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled,SECTION 1. SHORT TITLE.This Act may be cited as the ``Protect Democracy in Burma Act of 2021&#39;&#39;.SEC. 2. FINDINGS.Congress finds the following:(1) On March 14, 2005, the House of Representatives agreed to H. Res. 135, which established the House Democracy Assistance Commission (later changed to the House Democracy Partnership, hereafter referred to as ``HDP&#39;&#39;) to work directly with parliaments around the world to support the development of effective, independent, and responsive legislative institutions.(2) HDP approved a legislative strengthening partnership with Burma in 2016 and organized the first congressional delegation to meet with the new civilian-led government, led by State Counselor Aung San Suu Kyi, and civil society leaders in May 2016.(3) On February 2, 2021, the U.S. Department of State assessed that Daw Aung San Suu Kyi, the leader of Burma&#39;s ruling party, and President Win Myint, the duly elected head of government, were deposed in a military coup on February 1, 2021.(4) As part of the military coup, the Burmese military declared martial law, suspended the civilian-led government, and detained newly elected Members of Parliament in the capitol, Naypyidaw, thereby usurping the role of the democratically elected government and parliament.SEC. 3. SENSE OF CONGRESS.It is the sense of Congress that--(1) due to the Burmese military&#39;s seizure of government through the detention of State Counsellor Aung San Suu Kyi, President Win Myint, and other government leaders, Burma is not represented by a democratically elected government;(2) the inability of newly elected Members of Parliament to begin their official mandate due to the Burmese military&#39;s actions directly threatens the democratic trajectory of Burma&#39;s Parliament, and thereby the country;(3) the will and determination of those duly-elected Members of Parliament who are taking it upon themselves to continue serving as representatives of the people through alternative methods of communicating and convening should be lauded; and(4) by preventing the Parliament from completing its work, the Burmese military has rendered impossible and effectively nullified the international collaborative relationships that have supported and strengthened the institution, including the Burmese parliament&#39;s partnership with HDP.SEC. 4. STATEMENT OF POLICY.It is the policy of the United States to--(1) engage with the Association of Southeast Asian Nations (ASEAN) and ASEAN member states to--(A) condemn the military coup in Burma;(B) urge the unconditional release of detained democratically elected leaders and civil society members; and(C) support a return to Burma&#39;s democratic transition; and(2) instruct, as appropriate, representatives of the United States Government to use the voice, vote, and influence of the United States at the United Nations to hold accountable those responsible for the military coup in Burma.SEC. 5. REPORT.Not later than 90 days after the date of the enactment of this Act, the Secretary of State shall submit to the Committee on Foreign Affairs and the Committee on Appropriations of the House of Representatives and the Committee on Foreign Relations and the Committee on Appropriations of the Senate a report on the military coup in Burma, including a description of efforts to implement the policy specified in section 4. &lt;all&gt;Congressional Bills 117th CongressFrom the U.S. Government Publishing OfficeH.R. 435 Introduced in House (IH)&lt;DOC&gt;117th CONGRESS1st SessionH. R. 435 To exclude from tax certain payments of Federal pandemic unemploymentcompensation, and for other purposes.IN THE HOUSE OF REPRESENTATIVESJanuary 21, 2021 Ms. Velazquez (for herself, Ms. Norton, Ms. Williams of Georgia, Mr. Smith of Washington, Ms. Jayapal, Mr. Meeks, Mr. Welch, Ms. Schakowsky, Ms. Kaptur, Ms. Tlaib, Ms. Wild, Ms. Newman, Ms. Lee of California, Ms. Meng, and Mr. Nadler) introduced the following bill; which was referredto the Committee on Ways and Means A BILLTo exclude from tax certain payments of Federal pandemic unemploymentcompensation, and for other purposes.Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled,SECTION 1. SHORT TITLE.This Act may be cited as the ``Excluding Pandemic Unemployment Compensation from Income Act&#39;&#39;.SEC. 2. CERTAIN PAYMENTS OF FEDERAL PANDEMIC UNEMPLOYMENT COMPENSATION NOT INCLUDIBLE IN GROSS INCOME OR TAKEN INTO ACCOUNT IN DETERMINING CERTAIN MEANS-TESTED BENEFITS.(a) Exclusion From Gross Income.--For purposes of the Internal Revenue Code of 1986, gross income shall not include the amount specified in section 2104(b)(3) of the CARES Act to the extent such amount is received by the taxpayer pursuant to section 2102, 2104, or 2107 of such Act.(b) Disregarded in the Administration of Federal Programs and Federally Assisted Programs.--For purposes of section 6409 of the Internal Revenue Code of 1986, any amount excluded from gross income under subsection (a) shall be treated in the same manner as a refund under such Code.(c) Effective Dates.--(1) Exclusion.--Subsection (a) shall apply to taxable years ending after the date of the enactment of the CARES Act.(2) Disregard.--Subsection (b) shall apply to amounts received after the date of the enactment of the CARES Act. &lt;all&gt;Congressional Bills 117th CongressFrom the U.S. Government Publishing OfficeH.R. 886 Introduced in House (IH)&lt;DOC&gt;117th CONGRESS1st SessionH. R. 886 To provide funds through the Social Services Block Grant program fordiaper assistance.IN THE HOUSE OF REPRESENTATIVESFebruary 5, 2021Ms. Lee of California (for herself, Mr. Rush, Mr. Carson, Ms. Meng, Mr. Sires, and Mrs. Hayes) introduced the following bill; which was referred to the Committee on Ways and Means A BILLTo provide funds through the Social Services Block Grant program fordiaper assistance.Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled,SECTION 1. SHORT TITLE.This Act may be cited as the ``COVID-19 Diaper Assistance Act&#39;&#39;.SEC. 2. FINDINGS.Congress finds the following:(1) Infants need between 6 to 12 diapers a day. Infants and toddlers lacking access to clean diapers have a greater risk for health complications, which require costly and difficult to access medical care.(2) Prior to the COVID-19 pandemic, surveys indicated that 1 in 3 families in the United States with young children could not afford an adequate supply of diapers to keep their child clean, dry, and healthy.(3) Low-income families pay an even higher than average price for diapers because they do not have access to money saving alternatives such as bulk buying or online shopping that can reduce costs. Low-income families spend about 14 percent of their income on diapers.(4) Clean diaper access presents a financial and stressful burden on families&#39; dependent on child care services. Research indicates that when diaper need is a barrier to child care, parents miss an average of 4 workdays a month.(5) The COVID-19 pandemic has further raised demand for diapers and strained diaper banks&#39; ability to meet low-income families&#39; needs. Prior to the COVID-19 pandemic, nonprofit diaper bank distribution only met 5 to 6 percent of diaper need. Since the start of the COVID-19 pandemic, diaper banks around the country have experienced double, triple, or greater increase in demand for diapers due to the pandemic and economic shutdown. Nonprofits alone cannot fully address this public health crisis that impacts 1 in 3 families in the United States.SEC. 3. TARGETED FUNDING FOR STATES FOR DIAPER ASSISTANCE THROUGH THE SOCIAL SERVICES BLOCK GRANT PROGRAM.(a) Increase in Funding for Social Services Block Grant Program.--(1) In general.--The amount specified in subsection (c) of section 2003 of the Social Security Act (42 U.S.C. 1397b) for purposes of subsections (a) and (b) of such section is deemed to be $1,900,000,000 for fiscal year 2021, of which $200,000,000 shall be obligated by States in accordance with subsection (b).(2) Appropriation.--Out of any money in the Treasury of the United States not otherwise appropriated, there are appropriated $200,000,000, which shall be available for payments under section 2002 of the Social Security Act (42 U.S.C. 1397a), which shall remain available for expenditure through December 31, 2022.(3) Deadline for distribution of funds.--Within 45 days after the date of enactment of this Act, the Secretary of Health and Human Services shall distribute the funds made available by this subsection, which shall be made available to States on an emergency basis for immediate obligation and expenditure.(4) Submission of revised pre-expenditure report.--Within 90 days after a State receives funds made available by this subsection, the State shall submit to the Secretary of Health and Human Services a revised pre-expenditure report pursuant to subtitle A of title XX of the Social Security Act (42 U.S.C. 1397 et seq,.) that describes how the State plans to administer the funds in accordance with subsection (b).(5) Deadline for obligation of funds by states.--A State to which funds made available by this subsection are distributed shall obligate the funds not later than December 31, 2021.(6) Deadline for expenditure of funds.--A grantee to which a State provides funds made available by this subsection (or a subgrantee &quot;
</pre></div>
</div>
</div>
</div>
</section>
<section id="follow-up-prompt">
<h3>follow-up prompt:<a class="headerlink" href="#follow-up-prompt" title="Link to this heading">#</a></h3>
<p>This text is a collection of legislative bills. Now write me some code that separates the long string of text into individual bills.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">split_bills</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="c1"># Define a regex pattern to detect the start of a new bill</span>
    <span class="n">bill_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(?=\d</span><span class="si">{3}</span><span class="s1">th CONGRESS\s+\d{1,2}st Session\s+H\. R\. \d+)&#39;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>
    
    <span class="c1"># Split the text using the pattern</span>
    <span class="n">bills</span> <span class="o">=</span> <span class="n">bill_pattern</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    
    <span class="c1"># Remove empty entries and strip whitespace</span>
    <span class="n">bills</span> <span class="o">=</span> <span class="p">[</span><span class="n">bill</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">bill</span> <span class="ow">in</span> <span class="n">bills</span> <span class="k">if</span> <span class="n">bill</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span>
    
    <span class="k">return</span> <span class="n">bills</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bills</span> <span class="o">=</span> <span class="n">split_bills</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">bills</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>list
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">bills</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bills</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;Congressional Bills 117th CongressFrom the U.S. Government Publishing OfficeH.R. 1112 Introduced in House (IH)&lt;DOC&gt;117th CONGRESS1st SessionH. R. 1112 To require a report on the military coup in Burma, and for otherpurposes.IN THE HOUSE OF REPRESENTATIVES February 18, 2021Mr. Connolly (for himself, Mr. Price of North Carolina, and Mr. Buchanan) introduced the following bill; which was referred to the Committee on Foreign Affairs A BILLTo require a report on the military coup in Burma, and for otherpurposes.Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled,SECTION 1. SHORT TITLE.This Act may be cited as the ``Protect Democracy in Burma Act of 2021&#39;&#39;.SEC. 2. FINDINGS.Congress finds the following:(1) On March 14, 2005, the House of Representatives agreed to H. Res. 135, which established the House Democracy Assistance Commission (later changed to the House Democracy Partnership, hereafter referred to as ``HDP&#39;&#39;) to work directly with parliaments around the world to support the development of effective, independent, and responsive legislative institutions.(2) HDP approved a legislative strengthening partnership with Burma in 2016 and organized the first congressional delegation to meet with the new civilian-led government, led by State Counselor Aung San Suu Kyi, and civil society leaders in May 2016.(3) On February 2, 2021, the U.S. Department of State assessed that Daw Aung San Suu Kyi, the leader of Burma&#39;s ruling party, and President Win Myint, the duly elected head of government, were deposed in a military coup on February 1, 2021.(4) As part of the military coup, the Burmese military declared martial law, suspended the civilian-led government, and detained newly elected Members of Parliament in the capitol, Naypyidaw, thereby usurping the role of the democratically elected government and parliament.SEC. 3. SENSE OF CONGRESS.It is the sense of Congress that--(1) due to the Burmese military&#39;s seizure of government through the detention of State Counsellor Aung San Suu Kyi, President Win Myint, and other government leaders, Burma is not represented by a democratically elected government;(2) the inability of newly elected Members of Parliament to begin their official mandate due to the Burmese military&#39;s actions directly threatens the democratic trajectory of Burma&#39;s Parliament, and thereby the country;(3) the will and determination of those duly-elected Members of Parliament who are taking it upon themselves to continue serving as representatives of the people through alternative methods of communicating and convening should be lauded; and(4) by preventing the Parliament from completing its work, the Burmese military has rendered impossible and effectively nullified the international collaborative relationships that have supported and strengthened the institution, including the Burmese parliament&#39;s partnership with HDP.SEC. 4. STATEMENT OF POLICY.It is the policy of the United States to--(1) engage with the Association of Southeast Asian Nations (ASEAN) and ASEAN member states to--(A) condemn the military coup in Burma;(B) urge the unconditional release of detained democratically elected leaders and civil society members; and(C) support a return to Burma&#39;s democratic transition; and(2) instruct, as appropriate, representatives of the United States Government to use the voice, vote, and influence of the United States at the United Nations to hold accountable those responsible for the military coup in Burma.SEC. 5. REPORT.Not later than 90 days after the date of the enactment of this Act, the Secretary of State shall submit to the Committee on Foreign Affairs and the Committee on Appropriations of the House of Representatives and the Committee on Foreign Relations and the Committee on Appropriations of the Senate a report on the military coup in Burma, including a description of efforts to implement the policy specified in section 4. &lt;all&gt;Congressional Bills 117th CongressFrom the U.S. Government Publishing OfficeH.R. 435 Introduced in House (IH)&lt;DOC&gt;117th CONGRESS1st SessionH. R. 435 To exclude from tax certain payments of Federal pandemic unemploymentcompensation, and for other purposes.IN THE HOUSE OF REPRESENTATIVESJanuary 21, 2021 Ms. Velazquez (for herself, Ms. Norton, Ms. Williams of Georgia, Mr. Smith of Washington, Ms. Jayapal, Mr. Meeks, Mr. Welch, Ms. Schakowsky, Ms. Kaptur, Ms. Tlaib, Ms. Wild, Ms. Newman, Ms. Lee of California, Ms. Meng, and Mr. Nadler) introduced the following bill; which was referredto the Committee on Ways and Means A BILLTo exclude from tax certain payments of Federal pandemic unemploymentcompensation, and for other purposes.Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled,SECTION 1. SHORT TITLE.This Act may be cited as the ``Excluding Pandemic Unemployment Compensation from Income Act&#39;&#39;.SEC. 2. CERTAIN PAYMENTS OF FEDERAL PANDEMIC UNEMPLOYMENT COMPENSATION NOT INCLUDIBLE IN GROSS INCOME OR TAKEN INTO ACCOUNT IN DETERMINING CERTAIN MEANS-TESTED BENEFITS.(a) Exclusion From Gross Income.--For purposes of the Internal Revenue Code of 1986, gross income shall not include the amount specified in section 2104(b)(3) of the CARES Act to the extent such amount is received by the taxpayer pursuant to section 2102, 2104, or 2107 of such Act.(b) Disregarded in the Administration of Federal Programs and Federally Assisted Programs.--For purposes of section 6409 of the Internal Revenue Code of 1986, any amount excluded from gross income under subsection (a) shall be treated in the same manner as a refund under such Code.(c) Effective Dates.--(1) Exclusion.--Subsection (a) shall apply to taxable years ending after the date of the enactment of the CARES Act.(2) Disregard.--Subsection (b) shall apply to amounts received after the date of the enactment of the CARES Act. &lt;all&gt;Congressional Bills 117th CongressFrom the U.S. Government Publishing OfficeH.R. 886 Introduced in House (IH)&lt;DOC&gt;117th CONGRESS1st SessionH. R. 886 To provide funds through the Social Services Block Grant program fordiaper assistance.IN THE HOUSE OF REPRESENTATIVESFebruary 5, 2021Ms. Lee of California (for herself, Mr. Rush, Mr. Carson, Ms. Meng, Mr. Sires, and Mrs. Hayes) introduced the following bill; which was referred to the Committee on Ways and Means A BILLTo provide funds through the Social Services Block Grant program fordiaper assistance.Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled,SECTION 1. SHORT TITLE.This Act may be cited as the ``COVID-19 Diaper Assistance Act&#39;&#39;.SEC. 2. FINDINGS.Congress finds the following:(1) Infants need between 6 to 12 diapers a day. Infants and toddlers lacking access to clean diapers have a greater risk for health complications, which require costly and difficult to access medical care.(2) Prior to the COVID-19 pandemic, surveys indicated that 1 in 3 families in the United States with young children could not afford an adequate supply of diapers to keep their child clean, dry, and healthy.(3) Low-income families pay an even higher than average price for diapers because they do not have access to money saving alternatives such as bulk buying or online shopping that can reduce costs. Low-income families spend about 14 percent of their income on diapers.(4) Clean diaper access presents a financial and stressful burden on families&#39; dependent on child care services. Research indicates that when diaper need is a barrier to child care, parents miss an average of 4 workdays a month.(5) The COVID-19 pandemic has further raised demand for diapers and strained diaper banks&#39; ability to meet low-income families&#39; needs. Prior to the COVID-19 pandemic, nonprofit diaper bank distribution only met 5 to 6 percent of diaper need. Since the start of the COVID-19 pandemic, diaper banks around the country have experienced double, triple, or greater increase in demand for diapers due to the pandemic and economic shutdown. Nonprofits alone cannot fully address this public health crisis that impacts 1 in 3 families in the United States.SEC. 3. TARGETED FUNDING FOR STATES FOR DIAPER ASSISTANCE THROUGH THE SOCIAL SERVICES BLOCK GRANT PROGRAM.(a) Increase in Funding for Social Services Block Grant Program.--(1) In general.--The amount specified in subsection (c) of section 2003 of the Social Security Act (42 U.S.C. 1397b) for purposes of subsections (a) and (b) of such section is deemed to be $1,900,000,000 for fiscal year 2021, of which $200,000,000 shall be obligated by States in accordance with subsection (b).(2) Appropriation.--Out of any money in the Treasury of the United States not otherwise appropriated, there are appropriated $200,000,000, which shall be available for payments under section 2002 of the Social Security Act (42 U.S.C. 1397a), which shall remain available for expenditure through December 31, 2022.(3) Deadline for distribution of funds.--Within 45 days after the date of enactment of this Act, the Secretary of Health and Human Services shall distribute the funds made available by this subsection, which shall be made available to States on an emergency basis for immediate obligation and expenditure.(4) Submission of revised pre-expenditure report.--Within 90 days after a State receives funds made available by this subsection, the State shall submit to the Secretary of Health and Human Services a revised pre-expenditure report pursuant to subtitle A of title XX of the Social Security Act (42 U.S.C. 1397 et seq,.) that describes how the State plans to administer the funds in accordance with subsection (b).(5) Deadline for obligation of funds by states.--A State to which funds made available by this subsection are distributed shall obligate the funds not later than December 31, 2021.(6) Deadline for expenditure of funds.--A grantee to which a State provides funds made available by this subsection (or a subgrantee of such a grantee) shall expend the funds not later than December 31, 2022.(b) Rules Governing Use of Additional Funds.--Funds are used in accordance with this subsection if--(1) the funds are used to provide through social service agencies or other nonprofit organizations, diapers and diapering supplies (including diaper wipes and diaper cream, necessary to ensure that a child using a diaper is properly cleaned and protected from diaper rash) to families in need;(2) the funds are used subject to the limitations in section 2005 of the Social Security Act (42 U.S.C. 1397d);(3) the funds are used to supplement, not supplant, State general revenue funds provided for the purposes described in paragraph (1); and(4) the funds are not used for costs that are reimbursable by the Federal Emergency Management Agency, under a contract for insurance, or by self-insurance.(c) Reports.--(1) Grantees and subgrantees.--Not later than December 31, 2022, each grantee to which a State provides funds made available by subsection (a) (or a subgrantee of such a grantee) shall submit a report to the State on the use of the funds so provided.(2) SSBG annual report.--A State shall include in the annual report required under section 2006 of the Social Security Act (42 U.S.C. 1397e) covering fiscal year 2023, information detailing how grantees and subgrantees used funds made available under subsection (a) to distribute diapers and diapering supplies to families in need. &lt;all&gt;Congressional Bills 117th CongressFrom the U.S. Government Publishing OfficeH.R. 464 Introduced in House (IH)&lt;DOC&gt;117th CONGRESS1st SessionH. R. 464To realign the nuclear forensics and attribution activities of the Federal Government from the Department of Homeland Security to theNational Nuclear Security Administration.IN THE HOUSE OF REPRESENTATIVESJanuary 25, 2021 Mr. Foster (for himself and Mr. Fortenberry) introduced the followingbill; which was referred to the Committee on Energy and Commerce, and in addition to the Committees on Armed Services, Homeland Security, and Foreign Affairs, for a period to be subsequently determined by the Speaker, in each case for consideration of such provisions as fallwithin the jurisdiction of the committee concerned A BILL To realign the nuclear forensics and attribution activities of the Federal Government from the Department of Homeland Security to theNational Nuclear Security Administration.Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled,SECTION 1. SHORT TITLE.This Act may be cited as the ``Nuclear Forensics Authority Realignment Act&#39;&#39;.SEC. 2. ESTABLISHMENT OF NATIONAL NUCLEAR FORENSICS CENTER.(a) Establishment.--(1) In general.--The National Nuclear Security Administration Act (50 U.S.C. 2401 et seq.) is amended by inserting after section 3221 the following new section:``SEC. 3222. NATIONAL NUCLEAR FORENSICS CENTER.``(a) Establishment.--There is within the Administration a National Nuclear Forensics Center (in this section referred to as the `Center&#39;).``(b) Mission.--The mission of the Center shall be to coordinate stewardship, planning, assessment, gap analysis, exercises, improvement, including operational improvements and research, development, testing, and evaluation, and integration for all Federal nuclear forensics and attribution activities to ensure an enduring national technical nuclear forensics capability to strengthen the collective response of the United States to nuclear terrorism or other nuclear attacks.&#39;&#39;.(2) Clerical amendment.--The table of contents at the beginning of such Act is amended by inserting after the item relating to section 3221 the following new item:``Sec. 3222. National Nuclear Forensics Center.&#39;&#39;.(3) Nuclear forensics expertise.--Not later than one year after the date of the enactment of this Act, the Administrator for Nuclear Security shall develop and implement a plan to modify the university program of the National Nuclear Security Administration established under section 4814 of the Atomic Energy Defense Act (50 U.S.C. 2795) to include the development of expertise in nuclear forensics in supporting scientific and engineering advancement in key Department of Energy defense and national security program areas.(b) Conforming Repeals.--(1) In general.--The Nuclear Forensics and Attribution Act (Public Law 111-140) is hereby repealed.(2) Homeland security act of 2002.--Title XIX of the Homeland Security Act of 2002 (6 U.S.C. 590 et seq.) is amended as follows:(A) In section 1923--(i) in subsection (a)--(I) by striking ``(a) Mission.--&#39;&#39;;(II) in paragraph (9), by striking the semicolon and inserting ``; and&#39;&#39;;(III) by striking paragraphs (10), (11), (12), and (13); and(IV) by redesignating paragraph (14) as paragraph (10); and(ii) by striking subsection (b).(B) In section 1927(a)(1) (6 U.S.C. 596a(a)(1))--(i) in subparagraph (A)(ii), by striking the semicolon and inserting ``; and&#39;&#39;;(ii) in subparagraph (B)(iii), by striking ``; and&#39;&#39; and inserting a period; and(iii) by striking subparagraph (C).(c) References and Construction.--Any reference in any law, regulation, document, paper, or other record of the United States to the National Technical Nuclear Forensics Center established within the Countering Weapons of Mass Destruction Office of the Department of Homeland Security, formerly the Domestic Nuclear Detection Office, shall be deemed to be a reference to the National Nuclear Forensics Center established by section 3222 of the National Nuclear Security Administration Act, as added by subsection (a). &lt;all&gt;Congressional Bills 117th CongressFrom the U.S. Government Publishing OfficeH.R. 269 Introduced in House (IH)&lt;DOC&gt;117th CONGRESS1st SessionH. R. 269 To enhance the safety of ports of entry in the United States, and for other purposes.IN THE HOUSE OF REPRESENTATIVESJanuary 11, 2021 Mr. Vela introduced the following bill; which was referred to theCommittee on Transportation and Infrastructure A BILLTo enhance the safety of ports of entry in the United States, and for other purposes.Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled,SECTION 1. SHORT TITLE.This Act may be cited as the ``Putting Our Resources Toward Security (PORTS) Act&#39;&#39;.SEC. 2. IMPROVING PORTS OF ENTRY FOR BORDER SECURITY AND OTHER PURPOSES.(1) In general.--There are authorized to be appropriated to the Administrator of the General Services Administration $2,000,000,000 for each of fiscal years 2022 through 2024 to make improvements to existing ports of entry in the United States to improve border security and for other purposes.(2) Priority.--In making improvements described in subsection (a), the Administrator of the General Services Administration, in coordination with the Secretary of Homeland Security, shall give priority to the ports of entry that the Administrator determines are in most need of repair to improve border security and for other purposes in accordance with port of entry infrastructure assessment studies required in section 603 of title VI, division E, of the Consolidated Appropriations Act of 2008 (Public Law 110-161). &lt;all&gt;Congressional Bills 117th CongressFrom the U.S. Government Publishing OfficeH.R. 144 Introduced in House (IH)&lt;DOC&gt;117th CONGRESS1st SessionH. R. 144 To forestall the loss of research talent by establishing a temporaryearly career research fellowship program.IN THE HOUSE OF REPRESENTATIVESJanuary 4, 2021Ms. Johnson of Texas (for herself and Mr. Lucas) introduced the following bill; which was referred to the Committee on Science, Space,and Technology A BILLTo forestall the loss of research talent by establishing a temporaryearly career research fellowship program.Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled,SECTION 1. SHORT TITLE.This Act may be cited as the ``Supporting Early-Career Researchers Act&#39;&#39;.SEC. 2. FINDINGS.Congress finds the following:(1) The Nation&#39;s universities and industrial research labs are facing unprecedented budget pressure as part of the COVID-19 health crisis, resulting in considerably fewer openings for research and teaching positions.(2) Emergency funding is needed to forestall the loss of research talent likely to occur if early-career researchers are forced to seek employment outside of research due to the sharp economic decline caused by the COVID-19 health crisis.SEC. 3. EARLY-CAREER RESEARCH FELLOWSHIP PROGRAM.(a) In General.--The Director of the National Science Foundation may establish a 2-year pilot program to award grants to highly qualified early-career investigators to carry out an independent research program at the institution of higher education chosen by such investigator, to last for a period not greater than 2 years.(b) Institution of Higher Education Defined.--The term ``institution of higher education&#39;&#39; has the meaning given the term in section 101 of the Higher Education Act of 1965 (20 U.S.C. 1001).SEC. 4. AUTHORIZATION OF APPROPRIATIONS.There is authorized to be appropriated to the Director of the National Science Foundation $250,000,000 for each of fiscal years 2021 through 2022 to carry out the activities in this Act. &lt;all&gt;Congressional Bills 117th CongressFrom the U.S. Government Publishing OfficeH.R. 902 Introduced in House (IH)&lt;DOC&gt;117th CONGRESS1st SessionH. R. 902To amend the Internal Revenue Code of 1986 to expand the exclusion for employer-provided educational assistance and to expand the availability of the student loan interest deduction.IN THE HOUSE OF REPRESENTATIVESFebruary 5, 2021Mr. Stivers (for himself and Miss Rice of New York) introduced thefollowing bill; which was referred to the Committee on Ways and Means A BILL To amend the Internal Revenue Code of 1986 to expand the exclusion for employer-provided educational assistance and to expand the availability of the student loan interest deduction.Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled,SECTION 1. SHORT TITLE.This Act may be cited as the ``Decreasing Employees Burdensome Taxes from Student Loans Act of 2021&#39;&#39; or the ``DEBT Act of 2021&#39;&#39;.SEC. 2. EXCLUSION FOR EMPLOYER PAYMENT OF QUALIFIED EDUCATION LOANS.(a) In General.--Section 127(c)(1) of the Internal Revenue Code of 1986 is amended by striking ``and&#39;&#39; at the end of subparagraph (A), by redesignating subparagraph (B) as subparagraph (C), and by inserting after subparagraph (A) the following new subparagraph:``(B) the payment by an employer, whether paid to the employee or to a lender, of principal or interest on any qualified education loan (as defined in section 221(d)(1)) incurred by the employee, and&#39;&#39;.(b) Denial of Double Benefit.--Section 221(e)(1) of such Code is amended by inserting before the period at the end the following: ``, or for any amount which is excludable from gross income under section 127(c)(1)(B)&#39;&#39;.(c) Effective Date.--The amendments made by this section shall apply to payments made by employers after December 31, 2021.SEC. 3. INCREASE IN MAXIMUM AMOUNT EXCLUDABLE UNDER EDUCATIONAL ASSISTANCE PROGRAMS.(a) In General.--The text of paragraph (2) of section 127(a) of the Internal Revenue Code of 1986 is amended by striking ``$5,250&#39;&#39; both places it appears and inserting ``$10,000&#39;&#39;.(b) Conforming Amendment.--The heading for section 127(a)(2) of such Code is amended by striking ``$5,250 maximum&#39;&#39; and inserting ``Maximum&#39;&#39;.(c) Effective Date.--The amendments made by this section shall apply to payments made by employers after December 31, 2021.SEC. 4. MODIFICATION OF DEDUCTION FOR INTEREST ON EDUCATION LOANS.(a) Increased Maximum Deduction.--Section 221(b)(1) of the Internal Revenue Code of 1986 is amended by striking ``$2,500&#39;&#39; and inserting ``$5,000&#39;&#39;.(b) Increased Income Limitation.--Section 221(b)(2)(B)(ii) of such Code is amended by striking ``$15,000 ($30,000&#39;&#39; and inserting ``$85,000 ($115,000&#39;&#39;.(c) Effective Date.--The amendment made by this section shall apply to taxable years beginning after December 31, 2021. &lt;all&gt;Congressional Bills 117th CongressFrom the U.S. Government Publishing OfficeH.R. 4960 Introduced in House (IH)&lt;DOC&gt;117th CONGRESS1st SessionH. R. 4960 To direct the Secretary of Energy to establish a civil nuclear credit program, and for other purposes.IN THE HOUSE OF REPRESENTATIVES August 6, 2021 Mr. Kinzinger (for himself and Mr. Michael F. Doyle of Pennsylvania)introduced the following bill; which was referred to the Committee onEnergy and Commerce, and in addition to the Committees on Transportation and Infrastructure, and Financial Services, for a period to be subsequently determined by the Speaker, in each case for consideration of such provisions as fall within the jurisdiction of the committee concerned A BILLTo direct the Secretary of Energy to establish a civil nuclear credit program, and for other purposes.Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled,SECTION 1. SHORT TITLE; DEFINITIONS.(a) Short Title.--This Act may be cited as the ``Preserving Existing Nuclear Energy Generation Act&#39;&#39;.(b) Definitions.--In this Act:(1) Appropriate committees of congress.--The term ``appropriate committees of Congress&#39;&#39; means--(A) the Committee on Energy and Natural Resources of the Senate; and(B) the Committee on Energy and Commerce of the House of Representatives.(2) Commission.--The term ``Commission&#39;&#39; means the Nuclear Regulatory Commission.(3) Secretary.--The term ``Secretary&#39;&#39; means the Secretary of Energy.SEC. 2. CIVIL NUCLEAR CREDIT PROGRAM.(a) Definitions.--In this section:(1) Certified nuclear reactor.--The term ``certified nuclear reactor&#39;&#39; means a nuclear reactor that--(A) competes in a competitive electricity market; and(B) is certified under subsection (c)(2)(A)(i) to submit a sealed bid in accordance with subsection (d).(2) Credit.--The term ``credit&#39;&#39; means a credit allocated to a certified nuclear reactor under subsection (e)(2).(b) Establishment of Program.--The Secretary shall establish a civil nuclear credit program--(1) to evaluate nuclear reactors that are projected to cease operations due to economic factors; and(2) to allocate credits to certified nuclear reactors that are selected under paragraph (1)(B) of subsection (e) to receive credits under paragraph (2) of that subsection.(c) Certification.--(1) Application.--(A) In general.--In order to be certified under paragraph (2)(A)(i), the owner or operator of a nuclear reactor that is projected to cease operations due to economic factors shall submit to the Secretary an application at such time, in such manner, and containing such information as the Secretary determines to be appropriate, including--(i) information on the operating costs necessary to make the determination described in paragraph (2)(A)(ii)(I), including--(I) the average projected annual operating loss in dollars per megawatt-hour, inclusive of the cost of operational and market risks, expected to be incurred by the nuclear reactor over the 4-year period for which credits would be allocated;(II) any private or publicly available data with respect to current or projected bulk power market prices;(III) out-of-market revenue streams;(IV) operations and maintenance costs;(V) capital costs, including fuel; and(VI) operational and market risks;(ii) an estimate of the potential incremental air pollutants that would result if the nuclear reactor were to cease operations;(iii) known information on the source of produced uranium and the location where the uranium is converted, enriched, and fabricated into fuel assemblies for the nuclear reactor for the 4-year period for which credits would be allocated; and(iv) a detailed plan to sustain operations at the conclusion of the applicable 4-year period for which credits would be allocated--(I) without receiving additional credits; or(II) with the receipt of additional credits of a lower amount than the credits allocated during that 4-year credit period.(B) Timeline.--The Secretary shall accept applications described in subparagraph (A)--(i) until the date that is 120 days after the date of enactment of this Act; and(ii) not less frequently than every year thereafter.(C) Payments from state programs.--(i) In general.--The owner or operator of a nuclear reactor that receives a payment from a State zero-emission credit, a State clean energy contract, or any other State program with respect to that nuclear reactor shall be eligible to submit an application under subparagraph (A) with respect to that nuclear reactor during any application period beginning after the 120-day period beginning on the date of enactment of this Act.(ii) Requirement.--An application submitted by an owner or operator described in clause (i) with respect to a nuclear reactor described in that clause shall include all projected payments from State programs in determining the average projected annual operating loss described in subparagraph (A)(i)(I), unless the credits allocated to the nuclear reactor pursuant to that application will be used to reduce those payments.(2) Determination to certify.--(A) Determination.--(i) In general.--Not later than 60 days after the applicable date under subparagraph (B) of paragraph (1), the Secretary shall determine whether to certify, in accordance with clauses (ii) and (iii), each nuclear reactor for which an application is submitted under subparagraph (A) of that paragraph.(ii) Minimum requirements.--To the maximum extent practicable, the Secretary shall only certify a nuclear reactor under clause (i) if--(I) after considering the information submitted under paragraph (1)(A)(i), the Secretary determines that the nuclear reactor is projected to cease operations due to economic factors;(II) after considering the estimate submitted under paragraph (1)(A)(ii), the Secretary determines that pollutants would increase if the nuclear reactor were to cease operations and be replaced with other types of power generation; and(III) the Nuclear Regulatory Commission has reasonable assurance that the nuclear reactor--(aa) will continue to be operated in accordance with the current licensing basis (as defined in section 54.3 of title 10, Code of Federal Regulations (or successor regulations)) of the nuclear reactor; and(bb) poses no significant safety hazards.(iii) Priority.--In determining whether to certify a nuclear reactor under clause (i), the Secretary shall give priority to a nuclear reactor that uses, to the maximum extent available, uranium that is produced, converted, enriched, and fabricated into fuel assemblies in the United States.(B) Notice.--For each application received under paragraph (1)(A), the Secretary shall provide to the applicable owner or operator, as applicable--(i) a notice of the certification of the applicable nuclear reactor; or(ii) a notice that describes the reasons why the certification of the applicable nuclear reactor was denied.(d) Bidding Process.--(1) In general.--Subject to paragraph (2), the Secretary shall establish a deadline by which each certified nuclear reactor shall submit to the Secretary a sealed bid that--(A) describes the price per megawatt-hour of the credits desired by the certified nuclear reactor, which shall not exceed the average projected annual operating loss described in subsection (c)(1)(A)(i)(I); and(B) includes a commitment, subject to the receipt of credits, to provide a specific number of megawatt-hours of generation during the 4-year period for which credits would be allocated.(2) Requirement.--The deadline established under paragraph (1) shall be not later than 30 days after the first date on which the Secretary has made the determination described in paragraph (2)(A)(i) of subsection (c) with respect to each application submitted under paragraph (1)(A) of that subsection.(e) Allocation.--(1) Auction.--Notwithstanding section 169 of the Atomic Energy Act of 1954 (42 U.S.C. 2209), the Secretary shall--(A) in consultation with the heads of applicable Federal agencies, establish a process for evaluating bids submitted under subsection (d)(1) through an auction process; and(B) select certified nuclear reactors to be allocated credits.(2) Credits.--Subject to subsection (f)(2), on selection under paragraph (1), a certified nuclear reactor shall be allocated credits for a 4-year period beginning on the date of the selection.(3) Requirement.--To the maximum extent practicable, the Secretary shall use the amounts made available for credits under this section to allocate credits to as many certified nuclear reactors as possible.(f) Renewal.--(1) In general.--The owner or operator of a certified nuclear reactor may seek to recertify the nuclear reactor in accordance with this section.(2) Limitation.--Notwithstanding any other provision of this section, the Secretary may not allocate any credits after September 30, 2031.(g) Additional Requirements.--(1) Audit.--During the 4-year period beginning on the date on which a certified nuclear reactor first receives a credit, the Secretary shall periodically audit the certified nuclear reactor.(2) Recapture.--The Secretary shall, by regulation, provide for the recapture of the allocation of any credit to a certified nuclear reactor that, during the period described in paragraph (1)--(A) terminates operations; or(B) does not operate at an annual loss in the absence of an allocation of credits to the certified nuclear reactor.(3) Confidentiality.--The Secretary shall establish procedures to ensure that any confidential, private, proprietary, or privileged information that is included in a sealed bid submitted under this section is not publicly disclosed or otherwise improperly used.(h) Report.--Not later than January 1, 2024, the Comptroller General of the United States shall submit to Congress a report with respect to the credits allocated to certified nuclear reactors, which shall include--(1) an evaluation of the effectiveness of the credits in avoiding air pollutants while ensuring grid reliability;(2) a quantification of the ratepayer savings achieved under this section; and(3) any recommendations to renew or expand the credits.(i) Authorization of Appropriations.--There is authorized to be appropriated to the Secretary to carry out this section $6,000,000,000 for the period of fiscal years 2022 through 2026.SEC. 3. NUCLEAR CLOSURE COMMUNITIES.(a) Definitions.--In this section:(1) Community advisory board.--The term ``community advisory board&#39;&#39; means a community committee or other advisory organization that aims to foster communication and information exchange between a licensee planning for and involved in decommissioning activities and members of the community that decommissioning activities may affect.(2) Decommission.--The term ``decommission&#39;&#39; has the meaning given the term in section 50.2 of title 10, Code of Federal Regulations (or successor regulations).(3) Eligible recipient.--The term ``eligible recipient&#39;&#39; has the meaning given the term in section 3 of the Public Works and Economic Development Act of 1965 (42 U.S.C. 3122).(4) Licensee.--The term ``licensee&#39;&#39; has the meaning given the term in section 50.2 of title 10, Code of Federal Regulations (or successor regulations).(5) Nuclear closure community.--The term ``nuclear closure community&#39;&#39; means a unit of local government, including a county, city, town, village, school district, or special district that has been impacted, or reasonably demonstrates to the satisfaction of the Secretary of Commerce, that it will be impacted, by a nuclear power plant licensed by the Commission that has ceased operation or has provided a written notification to the Commission that it will cease operations as of the date of enactment of this Act.(b) Establishment.--Not later than 90 days after the date of enactment of this Act, the Secretary of Commerce shall establish a grant program to provide grants to eligible recipients--(1) to provide financial assistance to local governments who have experienced, or are anticipating, major revenue shortfalls due to the closure, or announced closure, of a nuclear power plant;(2) to assist with economic development in nuclear closure communities; and(3) to fund community advisory boards in nuclear closure communities.(c) Requirement.--In carrying out this section, to the maximum extent practicable, the Secretary of Commerce shall implement the recommendations described in the report submitted to Congress under section 108 of the Nuclear Energy Innovation and Modernization Act (Public Law 115-439; 132 Stat. 5577) entitled ``Best Practices for Establishment and Operation of Local Community Advisory Boards Associated with Decommissioning Activities at Nuclear Power Plants&#39;&#39;.(d) Distribution of Funds.--The Secretary of Commerce shall establish a formula to ensure, to the maximum extent practicable, geographic diversity among grant recipients under this section.(e) Authorization of Appropriations.--(1) In general.--There are authorized to be appropriated to the Secretary of Commerce--(A) to carry out subsection (b)(1), $30,000,000 for each of fiscal years 2022 through 2027;(B) to carry out subsection (b)(2), $30,000,000 for each of fiscal years 2022 through 2027; and(C) to carry out subsection (b)(3), $5,000,000 for each of fiscal years 2022 through 2024.(2) Availability.--Amounts made available under this section shall remain available for a period of 5 years beginning on the date on which the amounts are made available.(3) No offset.--None of the funds made available under this section may be used to offset the funding for any other Federal program.SEC. 4. REPORT ON LESSONS LEARNED DURING THE COVID-19 PUBLIC HEALTH EMERGENCY.(a) In General.--Not later than 180 days after the date of enactment of this Act, the Commission shall submit to the appropriate committees of Congress and make publicly available a report on actions taken by the Commission during the public health emergency declared by the Secretary of Health and Human Services under section 319 of the Public Health Service Act (42 U.S.C. 247d) on January 31, 2020, with respect to COVID-19.(b) Contents.--The report under subsection (a) shall include--(1) an identification of the processes, procedures, and other regulatory policies that were revised or temporarily suspended during the public health emergency described in subsection (a);(2) a review of actions, if any, taken by the Commission that examines how any revision or temporary suspension of a process, procedure, or other regulatory policy identified under paragraph (1) may or may not have compromised the ability of the Commission to license and regulate the civilian use of radioactive materials in the United States to protect public health and safety, promote the common defense and security, and protect the environment;(3) a description of any process efficiencies or challenges that resulted from the matters identified under paragraph (1);(4) a discussion of lessons learned from the matters described in paragraphs (1), (2), and (3);(5) a list of actions that the Commission may take to incorporate into the licensing activities and regulations of the Commission, without compromising the mission of the Commission--(A) the lessons described in paragraph (4); and(B) the information provided under paragraphs (2) and (3); and(6) a description of when the actions described in paragraph (5) may be implemented. &lt;all&gt;Congressional Bills 117th CongressFrom the U.S. Government Publishing OfficeH.R. 32 Introduced in House (IH)&lt;DOC&gt;117th CONGRESS1st Session H. R. 32 To amend the Public Health Service Act to provide for cooperativegoverning of individual health insurance coverage.IN THE HOUSE OF REPRESENTATIVESJanuary 4, 2021Mr. Biggs introduced the following bill; which was referred to the Committee on Energy and Commerce A BILLTo amend the Public Health Service Act to provide for cooperativegoverning of individual health insurance coverage.Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled,SECTION 1. COOPERATIVE GOVERNING OF INDIVIDUAL HEALTH INSURANCE COVERAGE.(a) In General.--Title XXVII of the Public Health Service Act (42 U.S.C. 300gg et seq.) is amended by adding at the end the following new part:``PART D--COOPERATIVE GOVERNING OF INDIVIDUAL HEALTH INSURANCE COVERAGE``SEC. 2795. DEFINITIONS.``In this part:``(1) Primary state.--The term `primary State&#39; means, with respect to individual health insurance coverage offered by a health insurance issuer, the State designated by the issuer as the State whose covered laws shall govern the health insurance issuer in the sale of such coverage under this part. An issuer, with respect to a particular policy, may only designate one such State as its primary State with respect to all such coverage it offers. Such an issuer may not change the designated primary State with respect to individual health insurance coverage once the policy is issued, except that such a change may be made upon renewal of the policy. With respect to such designated State, the issuer is deemed to be doing business in that State.``(2) Secondary state.--The term `secondary State&#39; means, with respect to individual health insurance coverage offered by a health insurance issuer, any State that is not the primary State. In the case of a health insurance issuer that is selling a policy in, or to a resident of, a secondary State, the issuer is deemed to be doing business in that secondary State.``(3) Health insurance issuer.--The term `health insurance issuer&#39; has the meaning given such term in section 2791(b)(2), except that such an issuer must be licensed in the primary State and be qualified to sell individual health insurance coverage in that State.``(4) Individual health insurance coverage.--The term `individual health insurance coverage&#39; means health insurance coverage offered in the individual market, as defined in section 2791(e)(1).``(5) Applicable state authority.--The term `applicable State authority&#39; means, with respect to a health insurance issuer in a State, the State insurance commissioner or official or officials designated by the State to enforce the requirements of this title for the State with respect to the issuer.``(6) Hazardous financial condition.--The term `hazardous financial condition&#39; means that, based on its present or reasonably anticipated financial condition, a health insurance issuer is unlikely to be able--``(A) to meet obligations to policyholders with respect to known claims and reasonably anticipated claims; or``(B) to pay other obligations in the normal course of business.``(7) Covered laws.--``(A) In general.--The term `covered laws&#39; means the laws, rules, regulations, agreements, and orders governing the insurance business pertaining to--``(i) individual health insurance coverage issued by a health insurance issuer;``(ii) the offer, sale, rating (including medical underwriting), renewal, and issuance of individual health insurance coverage to an individual;``(iii) the provision to an individual in relation to individual health insurance coverage of health care and insurance related services;``(iv) the provision to an individual in relation to individual health insurance coverage of management, operations, and investment activities of a health insurance issuer; and``(v) the provision to an individual in relation to individual health insurance coverage of loss control and claims administration for a health insurance issuer with respect to liability for which the issuer provides insurance.``(B) Exception.--Such term does not include any law, rule, regulation, agreement, or order governing the use of care or cost management techniques, including any requirement related to provider contracting, network access or adequacy, health care data collection, or quality assurance.``(8) State.--The term `State&#39; means the 50 States and includes the District of Columbia, Puerto Rico, the Virgin Islands, Guam, American Samoa, and the Northern Mariana Islands.``(9) Unfair claims settlement practices.--The term `unfair claims settlement practices&#39; means only the following practices:``(A) Knowingly misrepresenting to claimants and insured individuals relevant facts or policy provisions relating to coverage at issue.``(B) Failing to acknowledge with reasonable promptness pertinent communications with respect to claims arising under policies.``(C) Failing to adopt and implement reasonable standards for the prompt investigation and settlement of claims arising under policies.``(D) Failing to effectuate prompt, fair, and equitable settlement of claims submitted in which liability has become reasonably clear.``(E) Refusing to pay claims without conducting a reasonable investigation.``(F) Failing to affirm or deny coverage of claims within a reasonable period of time after having completed an investigation related to those claims.``(G) A pattern or practice of compelling insured individuals or their beneficiaries to institute suits to recover amounts due under its policies by offering substantially less than the amounts ultimately recovered in suits brought by them.``(H) A pattern or practice of attempting to settle or settling claims for less than the amount that a reasonable person would believe the insured individual or his or her beneficiary was entitled by reference to written or printed advertising material accompanying or made part of an application.``(I) Attempting to settle or settling claims on the basis of an application that was materially altered without notice to, or knowledge or consent of, the insured.``(J) Failing to provide forms necessary to present claims within 15 calendar days of a request with reasonable explanations regarding their use.``(K) Attempting to cancel a policy in less time than that prescribed in the policy or by the law of the primary State.``(10) Fraud and abuse.--The term `fraud and abuse&#39; means an act or omission committed by a person who, knowingly and with intent to defraud, commits, or conceals any material information concerning, one or more of the following:``(A) Presenting, causing to be presented or preparing with knowledge or belief that it will be presented to or by an insurer, a reinsurer, broker or its agent, false information as part of, in support of or concerning a fact material to one or more of the following:``(i) An application for the issuance or renewal of an insurance policy or reinsurance contract.``(ii) The rating of an insurance policy or reinsurance contract.``(iii) A claim for payment or benefit pursuant to an insurance policy or reinsurance contract.``(iv) Premiums paid on an insurance policy or reinsurance contract.``(v) Payments made in accordance with the terms of an insurance policy or reinsurance contract.``(vi) A document filed with the commissioner or the chief insurance regulatory official of another jurisdiction.``(vii) The financial condition of an insurer or reinsurer.``(viii) The formation, acquisition, merger, reconsolidation, dissolution or withdrawal from one or more lines of insurance or reinsurance in all or part of a State by an insurer or reinsurer.``(ix) The issuance of written evidence of insurance.``(x) The reinstatement of an insurance policy.``(B) Solicitation or acceptance of new or renewal insurance risks on behalf of an insurer, reinsurer, or other person engaged in the business of insurance by a person who knows or should know that the insurer or other person responsible for the risk is insolvent at the time of the transaction.``(C) Transaction of the business of insurance in violation of laws requiring a license, certificate of authority or other legal authority for the transaction of the business of insurance.``(D) Attempt to commit, aiding or abetting in the commission of, or conspiracy to commit the acts or omissions specified in this paragraph.``SEC. 2796. APPLICATION OF LAW.``(a) In General.--The covered laws of the primary State shall apply to individual health insurance coverage offered by a health insurance issuer in the primary State and in any secondary State, but only if the coverage and issuer comply with the conditions of this section with respect to the offering of coverage in any secondary State.``(b) Exemptions From Covered Laws in a Secondary State.--Except as provided in this section, a health insurance issuer with respect to its offer, sale, rating (including medical underwriting), renewal, and issuance of individual health insurance coverage in any secondary State is exempt from any covered laws of the secondary State (and any rules, regulations, agreements, or orders sought or issued by such State under or related to such covered laws) to the extent that such laws would--``(1) make unlawful, or regulate, directly or indirectly, the operation of the health insurance issuer operating in the secondary State, except that any secondary State may require such an issuer--``(A) to pay, on a nondiscriminatory basis, applicable premium and other taxes (including high risk pool assessments) which are levied on insurers and surplus lines insurers, brokers, or policyholders under the laws of the State;``(B) to register with and designate the State insurance commissioner as its agent solely for the purpose of receiving service of legal documents or process;``(C) to submit to an examination of its financial condition by the State insurance commissioner in any State in which the issuer is doing business to determine the issuer&#39;s financial condition, if--``(i) the State insurance commissioner of the primary State has not done an examination within the period recommended by the National Association of Insurance Commissioners; and``(ii) any such examination is conducted in accordance with the examiners&#39; handbook of the National Association of Insurance Commissioners and is coordinated to avoid unjustified duplication and unjustified repetition;``(D) to comply with a lawful order issued--``(i) in a delinquency proceeding commenced by the State insurance commissioner if there has been a finding of financial impairment under subparagraph (C); or``(ii) in a voluntary dissolution proceeding;``(E) to comply with an injunction issued by a court of competent jurisdiction, upon a petition by the State insurance commissioner alleging that the issuer is in hazardous financial condition;``(F) to participate, on a nondiscriminatory basis, in any insurance insolvency guaranty association or similar association to which a health insurance issuer in the State is required to belong;``(G) to comply with any State law regarding fraud and abuse (as defined in section 2795(10)), except that if the State seeks an injunction regarding the conduct described in this subparagraph, such injunction must be obtained from a court of competent jurisdiction;``(H) to comply with any State law regarding unfair claims settlement practices (as defined in section 2795(9)); or``(I) to comply with the applicable requirements for independent review under section 2798 with respect to coverage offered in the State;``(2) require any individual health insurance coverage issued by the issuer to be countersigned by an insurance agent or broker residing in that Secondary State; or``(3) otherwise discriminate against the issuer issuing insurance in both the primary State and in any secondary State.``(c) Clear and Conspicuous Disclosure.--A health insurance issuer shall provide the following notice, in 12-point bold type, in any insurance coverage offered in a secondary State under this part by such a health insurance issuer and at renewal of the policy, with the 5 blank spaces therein being appropriately filled with the name of the health insurance issuer, the name of primary State, the name of the secondary State, the name of the secondary State, and the name of the secondary State, respectively, for the coverage concerned: ```Notice```This policy is issued byand is governed by the laws and regulations of the State of , and it has met all the laws of that State as determined by that State&#39;s Department of Insurance. This policy may be less expensive than others because it is not subject to all of the insurance laws and regulations of the State of , including coverage of some services or benefits mandated by the law of the State of . Additionally, this policy is not subject to all of the consumer protection laws or restrictions on rate changes of the State of . As with all insurance products, before purchasing this policy, you should carefully review the policy and determine what health care services the policy covers and what benefits it provides, including any exclusions, limitations, or conditions for such services or benefits.&#39;.``(d) Prohibition on Certain Reclassifications and Premium Increases.--``(1) In general.--For purposes of this section, a health insurance issuer that provides individual health insurance coverage to an individual under this part in a primary or secondary State may not upon renewal--``(A) move or reclassify the individual insured under the health insurance coverage from the class such individual is in at the time of issue of the contract based on the health status-related factors of the individual; or``(B) increase the premiums assessed the individual for such coverage based on a health status-related factor or change of a health status-related factor or the past or prospective claim experience of the insured individual.``(2) Construction.--Nothing in paragraph (1) shall be construed to prohibit a health insurance issuer--``(A) from terminating or discontinuing coverage or a class of coverage in accordance with subsections (b) and (c) of section 2742;``(B) from raising premium rates for all policy holders within a class based on claims experience;``(C) from changing premiums or offering discounted premiums to individuals who engage in wellness activities at intervals prescribed by the issuer, if such premium changes or incentives--``(i) are disclosed to the consumer in the insurance contract;``(ii) are based on specific wellness activities that are not applicable to all individuals; and``(iii) are not obtainable by all individuals to whom coverage is offered;``(D) from reinstating lapsed coverage; or``(E) from retroactively adjusting the rates charged an insured individual if the initial rates were set based on material misrepresentation by the individual at the time of issue.``(e) Prior Offering of Policy in Primary State.--A health insurance issuer may not offer for sale individual health insurance coverage in a secondary State unless that coverage is currently offered for sale in the primary State.``(f) Licensing of Agents or Brokers for Health Insurance Issuers.--Any State may require that a person acting, or offering to act, as an agent or broker for a health insurance issuer with respect to the offering of individual health insurance coverage obtain a license from that State, with commissions or other compensation subject to the provisions of the laws of that State, except that a State may not impose any qualification or requirement which discriminates against a nonresident agent or broker.``(g) Documents for Submission to State Insurance Commissioner.--Each health insurance issuer issuing individual health insurance coverage in both primary and secondary States shall submit--``(1) to the insurance commissioner of each State in which it intends to offer such coverage, before it may offer individual health insurance coverage in such State--``(A) a copy of the plan of operation or feasibility study or any similar statement of the policy being offered and its coverage (which shall include the name of its primary State and its principal place of business);``(B) written notice of any change in its designation of its primary State; and``(C) written notice from the issuer of the issuer&#39;s compliance with all the laws of the primary State; and``(2) to the insurance commissioner of each secondary State in which it offers individual health insurance coverage, a copy of the issuer&#39;s quarterly financial statement submitted to the primary State, which statement shall be certified by an independent public accountant and contain a statement of opinion on loss and loss adjustment expense reserves made by--``(A) a member of the American Academy of Actuaries; or``(B) a qualified loss reserve specialist.``(h) Power of Courts To Enjoin Conduct.--Nothing in this section shall be construed to affect the authority of any Federal or State court to enjoin--``(1) the solicitation or sale of individual health insurance coverage by a health insurance issuer to any person or group who is not eligible for such insurance; or``(2) the solicitation or sale of individual health insurance coverage that violates the requirements of the law of a secondary State which are described in subparagraphs (A) through (H) of section 2796(b)(1).``(i) Power of Secondary States To Take Administrative Action.--Nothing in this section shall be construed to affect the authority of any State to enjoin conduct in violation of that State&#39;s laws described in section 2796(b)(1).``(j) State Powers To Enforce State Laws.--``(1) In general.--Subject to the provisions of subsection (b)(1)(G) (relating to injunctions) and paragraph (2), nothing in this section shall be construed to affect the authority of any State to make use of any of its powers to enforce the laws of such State with respect to which a health insurance issuer is not exempt under subsection (b).``(2) Courts of competent jurisdiction.--If a State seeks an injunction regarding the conduct described in paragraphs (1) and (2) of subsection (h), such injunction must be obtained from a Federal or State court of competent jurisdiction.``(k) States&#39; Authority To Sue.--Nothing in this section shall affect the authority of any State to bring action in any Federal or State court.``(l) Generally Applicable Laws.--Nothing in this section shall be construed to affect the applicability of State laws generally applicable to persons or corporations.``(m) Guaranteed Availability of Coverage to HIPAA Eligible Individuals.--To the extent that a health insurance issuer is offering coverage in a primary State that does not accommodate residents of secondary States or does not provide a working mechanism for residents of a secondary State, and the issuer is offering coverage under this part in such secondary State which has not adopted a qualified high risk pool as its acceptable alternative mechanism (as defined in section 2744(c)(2)), the issuer shall, with respect to any individual health insurance coverage offered in a secondary State under this part, comply with the guaranteed availability requirements for eligible individuals in section 2741.``SEC. 2797. PRIMARY STATE MUST MEET FEDERAL FLOOR BEFORE ISSUER MAY SELL INTO SECONDARY STATES.``A health insurance issuer may not offer, sell, or issue individual health insurance coverage in a secondary State if the State insurance commissioner does not use a risk-based capital formula for the determination of capital and surplus requirements for all health insurance issuers.``SEC. 2798. INDEPENDENT EXTERNAL APPEALS PROCEDURES.``(a) Right to External Appeal.--A health insurance issuer may not offer, sell, or issue individual health insurance coverage in a secondary State under the provisions of this title unless--``(1) both the secondary State and the primary State have legislation or regulations in place establishing an independent review process for individuals who are covered by individual health insurance coverage; or``(2) in any case in which the requirements of subparagraph (A) are not met with respect to the either of such States, the issuer provides an independent review mechanism substantially identical (as determined by the applicable State authority of such State) to that prescribed in the `Health Carrier External Review Model Act&#39; of the National Association of Insurance Commissioners for all individuals who purchase insurance coverage under the terms of this part, except that, under such mechanism, the review is conducted by an independent medical reviewer, or a panel of such reviewers, with respect to whom the requirements of subsection (b) are met.``(b) Qualifications of Independent Medical Reviewers.--In the case of any independent review mechanism referred to in subsection (a)(2)--``(1) In general.--In referring a denial of a claim to an independent medical reviewer, or to any panel of such reviewers, to conduct independent medical review, the issuer shall ensure that--``(A) each independent medical reviewer meets the qualifications described in paragraphs (2) and (3);``(B) with respect to each review, each reviewer meets the requirements of paragraph (4) and the reviewer, or at least 1 reviewer on the panel, meets the requirements described in paragraph (5); and``(C) compensation provided by the issuer to each reviewer is consistent with paragraph (6).``(2) Licensure and expertise.--Each independent medical reviewer shall be a physician (allopathic or osteopathic) or health care professional who--``(A) is appropriately credentialed or licensed in one or more States to deliver health care services; and``(B) typically treats the condition, makes the diagnosis, or provides the type of treatment under review.``(3) Independence.--``(A) In general.--Subject to subparagraph (B), each independent medical reviewer in a case shall--``(i) not be a related party (as defined in paragraph (7));``(ii) not have a material familial, financial, or professional relationship with such a party; and``(iii) not otherwise have a conflict of interest with such a party (as determined under regulations).``(B) Exception.--Nothing in subparagraph (A) shall be construed to--``(i) prohibit an individual, solely on the basis of affiliation with the issuer, from serving as an independent medical reviewer if--``(I) a non-affiliated individual is not reasonably available;``(II) the affiliated individual is not involved in the provision of items or services in the case under review;``(III) the fact of such an affiliation is disclosed to the issuer and the enrollee (or authorized representative) and neither party objects; and``(IV) the affiliated individual is not an employee of the issuer and does not provide services exclusively or primarily to or on behalf of the issuer;``(ii) prohibit an individual who has staff privileges at the institution where the treatment involved takes place from serving as an independent medical reviewer merely on the basis of such affiliation if the affiliation is disclosed to the issuer and the enrollee (or authorized representative), and neither party objects; or``(iii) prohibit receipt of compensation by an independent medical reviewer from an entity if the compensation is provided consistent with paragraph (6).``(4) Practicing health care professional in same field.--``(A) In general.--In a case involving treatment, or the provision of items or services--``(i) by a physician, a reviewer shall be a practicing physician (allopathic or osteopathic) of the same or similar specialty, as a physician who, acting within the appropriate scope of practice within the State in which the service is provided or rendered, typically treats the condition, makes the diagnosis, or provides the type of treatment under review; or``(ii) by a non-physician health care professional, the reviewer, or at least 1 member of the review panel, shall be a practicing non-physician health care professional of the same or similar specialty as the non-physician health care professional who, acting within the appropriate scope of practice within the State in which the service is provided or rendered, typically treats the condition, makes the diagnosis, or provides the type of treatment under review.``(B) Practicing defined.--For purposes of this paragraph, the term `practicing&#39; means, with respect to an individual who is a physician or other health care professional, that the individual provides health care services to individual patients on average at least 2 days per week.``(5) Pediatric expertise.--In the case of an external review relating to a child, a reviewer shall have expertise under paragraph (2) in pediatrics.``(6) Limitations on reviewer compensation.--Compensation provided by the issuer to an independent medical reviewer in connection with a review under this section shall--``(A) not exceed a reasonable level; and``(B) not be contingent on the decision rendered by the reviewer.``(7) Related party defined.--For purposes of this section, the term `related party&#39; means, with respect to a denial of a claim under a coverage relating to an enrollee, any of the following:``(A) The issuer involved, or any fiduciary, officer, director, or employee of the issuer.``(B) The enrollee (or authorized representative).``(C) The health care professional that provides the items or services involved in the denial.``(D) The institution at which the items or services (or treatment) involved in the denial are provided.``(E) The manufacturer of any drug or other item that is included in the items or services involved in the denial.``(F) Any other party determined under any regulations to have a substantial interest in the denial involved.``(8) Definitions.--For purposes of this subsection:``(A) Enrollee.--The term `enrollee&#39; means, with respect to health insurance coverage offered by a health insurance issuer, an individual enrolled with the issuer to receive such coverage.``(B) Health care professional.--The term `health care professional&#39; means an individual who is licensed, accredited, or certified under State law to provide specified health care services and who is operating within the scope of such licensure, accreditation, or certification.``SEC. 2799. ENFORCEMENT.``(a) In General.--Subject to subsection (b), with respect to specific individual health insurance coverage the primary State for such coverage has sole jurisdiction to enforce the primary State&#39;s covered laws in the primary State and any secondary State.``(b) Secondary State&#39;s Authority.--Nothing in subsection (a) shall be construed to affect the authority of a secondary State to enforce its laws as set forth in the exception specified in section 2796(b)(1).``(c) Court Interpretation.--In reviewing action initiated by the applicable secondary State authority, the court of competent jurisdiction shall apply the covered laws of the primary State.``(d) Notice of Compliance Failure.--In the case of individual health insurance coverage offered in a secondary State that fails to comply with the covered laws of the primary State, the applicable State authority of the secondary State may notify the applicable State authority of the primary State.&#39;&#39;.(b) Effective Date.--The amendment made by subsection (a) shall apply to individual health insurance coverage offered, issued, or sold on or after October 1, 2021.(c) GAO Ongoing Study and Reports.--(1) Study.--The Comptroller General of the United States shall conduct an ongoing study concerning the effect of the amendment made by subsection (a) on--(A) the number of uninsured and under-insured;(B) the availability and cost of health insurance policies for individuals with pre-existing medical conditions;(C) the availability and cost of health insurance policies generally;(D) the elimination or reduction of different types of benefits under health insurance policies offered in different States; and(E) cases of fraud or abuse relating to health insurance coverage offered under such amendment and the resolution of such cases.(2) Annual reports.--The Comptroller General shall submit to Congress an annual report, after the end of each of the 5 years following the effective date of the amendment made by subsection (a), on the ongoing study conducted under paragraph (1). &lt;all&gt;Congressional Bills 117th CongressFrom the U.S. Government Publishing OfficeH.R. 154 Introduced in House (IH)&lt;DOC&gt;117th CONGRESS1st SessionH. R. 154 To provide regulatory relief for Black and community banks, to codifythe Minority Bank Deposit Program, and for other purposes.IN THE HOUSE OF REPRESENTATIVESJanuary 4, 2021Mr. Rush (for himself, Mr. Carson, Ms. Clarke of New York, Mr. Cooper, Mr. Khanna, and Mr. Welch) introduced the following bill; which was referred to the Committee on Financial Services, and in addition to the Committee on Ways and Means, for a period to be subsequently determinedby the Speaker, in each case for consideration of such provisions as fall within the jurisdiction of the committee concerned A BILLTo provide regulatory relief for Black and community banks, to codifythe Minority Bank Deposit Program, and for other purposes.Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled,SECTION 1. SHORT TITLE.This Act may be cited as the ``Reenergized Economic Sustainability for Community and Urban Entities Act for Black and Community Banks&#39;&#39; or the ``RESCUE Act for Black and Community Banks&#39;&#39;.SEC. 2. REGULATION OF BLACK AND COMMUNITY BANKS.(a) Office of Black and Community Banks.--(1) Establishment.--There is established within the Office of the Comptroller of the Currency an office to be known as the ``Office of Black and Community Banks&#39;&#39;.(2) Supervision and examination of black banks and community banks.--The Comptroller of the Currency, acting through the Office of Black and Community Banks, shall supervise and examine Black banks and community banks.(3) Regulatory relief.--(A) In general.--The Comptroller shall issue regulations to partially or completely exempt Black banks and community banks from Federal banking statutes and regulations, to the extent the Comptroller determines it appropriate without endangering the safety and soundness of such banks.(B) Treatment of manual underwriting.--For purposes of risk-based capital requirements for Black banks and community banks, the Comptroller shall issue regulations to assign a lower level of risk to loans that are issued by such banks using manual underwriting, in recognition of the individualized scrutiny provided by manual underwriting.(C) Encouraging small-dollar lending.--The Comptroller shall issue regulations to encourage affordable small-dollar lending by Black banks and community banks by providing regulatory flexibility with respect to such lending.(b) Regulatory Relief Under the Securities Laws.--(1) Investment products.--With respect to investment products sold by a Black bank or a community bank (or an affiliate of such bank) to individuals in the community in which such bank is located, the Securities and Exchange Commission shall issue regulations to partially or completely exempt the bank from the securities laws and regulations issued under the securities laws, to the extent the Commission determines it appropriate without endangering the protection of investors.(2) Securities.--(A) In general.--The Securities and Exchange Commission shall issue regulations to reduce the regulatory burden applicable to Black banks and community banks--(i) under the amendments made by the Jumpstart Our Business Startups Act;(ii) issuing mortgage-backed securities; and(iii) issuing securities backed by loans guaranteed by the Small Business Act.(B) Crowdfunding exemption.--Section 4A of the Securities Act of 1933 (15 U.S.C. 77d-1) shall not apply to Black banks or community banks.(c) Conforming Change to Definition of Appropriate Federal Banking Agency.--Section 3(q)(1) of the Federal Deposit Insurance Act (12 U.S.C. 1813(q)(1)) is amended--(1) in subparagraph (B), by striking ``and&#39;&#39; at the end;(2) in subparagraph (C), by adding ``and&#39;&#39; at the end; and(3) by adding at the end the following:``(D) notwithstanding paragraphs (2) and (3), any Black bank or community bank (as such terms are defined under section 5 of the RESCUE Act for Black and Community Banks);&#39;&#39;.SEC. 3. CODIFICATION OF THE MINORITY BANK DEPOSIT PROGRAM.(a) In General.--(1) In general.--Section 1204 of the Financial Institutions Reform, Recovery, and Enforcement Act of 1989 (12 U.S.C. 1811 note) is amended to read as follows:``SEC. 1204. EXPANSION OF USE OF MINORITY BANKS, WOMEN&#39;S BANKS, AND LOW-INCOME CREDIT UNIONS.``(a) Minority Bank Deposit Program.--``(1) Establishment.--There is established a program to be known as the `Minority Bank Deposit Program&#39; to expand the use of minority banks, women&#39;s banks, and low-income credit unions.``(2) Administration.--The Secretary of the Treasury, acting through the Fiscal Service, shall--``(A) on application by a depository institution or credit union, certify whether such depository institution or credit union is a minority bank, women&#39;s bank, or low-income credit union;``(B) maintain and publish a list of all depository institutions and credit unions that have been certified pursuant to subparagraph (A);``(C) periodically distribute the list described in subparagraph (B) to--``(i) all Federal departments and agencies;``(ii) interested State and local governments; and``(iii) interested private sector companies; and``(D) support the creation of ratings, online Black bank resources, and database products, including online lending and investment facilities.``(3) Inclusion of certain entities on list.--A depository institution or credit union that, on the date of the enactment of this section, has a current certification from the Secretary of the Treasury stating that such depository institution or credit union is a minority bank, women&#39;s bank, or low-income credit union shall be included on the list described under paragraph (2)(B).``(b) Expanded Use Among Federal Departments and Agencies.--``(1) In general.--Not later than 1 year after the establishment of the program described in subsection (a), the head of each Federal department or agency shall develop and implement standards and procedures to ensure, to the maximum extent possible as permitted by law, the use of minority banks, women&#39;s banks, and low-income credit unions to serve the financial needs of each such department or agency.``(2) Minimum requirement.--Notwithstanding paragraph (1), the head of each Federal department or agency shall ensure that at least 10 percent of the financial needs of each such department or agency are met by the use of minority banks, women&#39;s banks, and low-income credit unions.``(3) Report to congress.--Not later than 2 years after the establishment of the program described in subsection (a), and annually thereafter, the head of each Federal department or agency shall submit to Congress a report on the actions taken to increase the use of minority banks, women&#39;s banks, and low-income credit unions to serve the financial needs of each such department or agency.``(c) Definitions.--For purposes of this section:``(1) Credit union.--The term `credit union&#39; has the meaning given the term `insured credit union&#39; in section 101 of the Federal Credit Union Act (12 U.S.C. 1752).``(2) Depository institution.--The term `depository institution&#39; has the meaning given the term `insured depository institution&#39; in section 3 of the Federal Deposit Insurance Act (12 U.S.C. 1813).``(3) Low-income credit union.--The term `low-income credit union&#39; means any entity described in section 19(b)(1)(A)(iv) of the Federal Reserve Act.``(4) Minority.--The term `minority&#39; means any Black American, Native American, Hispanic American, or Asian American.``(5) Minority bank.--The term `minority bank&#39; means any bank described in clause (i), (ii), or (iii) of section 19(b)(1)(A) of the Federal Reserve Act for which--``(A) more than 50 percent of the outstanding shares of which are held by 1 or more minority individuals;``(B) the majority of the directors on the board of directors of which are minority individuals; and``(C) a significant percentage of senior management positions of which are held by minority individuals.``(6) Women&#39;s bank.--The term `women&#39;s bank&#39; means any bank described in clause (i), (ii), or (iii) of section 19(b)(1)(A) of the Federal Reserve Act for which--``(A) more than 50 percent of the outstanding shares of which are held by 1 or more women;``(B) the majority of the directors on the board of directors of which are women; and``(C) a significant percentage of senior management positions of which are held by women.&#39;&#39;.(2) Conforming amendments.--The following provisions are amended by striking ``1204(c)(3)&#39;&#39; and inserting ``1204(c)&#39;&#39;:(A) Section 808(b)(3) of the Community Reinvestment Act of 1977 (12 U.S.C. 2907(b)(3)).(B) Section 40(g)(1)(B) of the Federal Deposit Insurance Act (12 U.S.C. 1831q(g)(1)(B)).(C) Section 704B(h)(4) of the Equal Credit Opportunity Act (15 U.S.C. 1691c-2(h)(4)).(b) Amendments to the Community Reinvestment Act.--Section 804(b) of the Community Reinvestment Act of 1977 (12 U.S.C. 2903(b)) is amended to read as follows:``(b) Cooperation With Minority Banks, Women&#39;s Banks, and Low-Income Credit Unions Considered.--``(1) In general.--In assessing and taking into account, under subsection (a), the record of a financial institution, the appropriate Federal financial supervisory agency shall consider as a factor capital investment, loan participation, and other ventures undertaken by the institution in cooperation with minority banks, women&#39;s banks, community development financial institutions, and low-income credit unions provided that these activities help meet the credit needs of local communities in which such institutions and credit unions are chartered.``(2) Definitions.--``(A) FIRREA definitions.--The terms `low-income credit union&#39;, `minority bank&#39;, and `women&#39;s bank&#39; have the meanings given such terms, respectively, in section 1204(c) of the Financial Institutions Reform, Recovery, and Enforcement Act of 1989 (12 U.S.C. 1811 note).``(B) Community development financial institution.--The term `community development financial institution&#39; has the meaning given in section 103(5) of the Riegle Community Development and Regulatory Improvement Act of 1994 (12 U.S.C. 4702(5)).&#39;&#39;.(c) Considerations When Assessing Financial Inclusion for Federally Chartered Financial Institutions.--(1) In general.--In assessing and taking into account the record of a federally chartered financial institution under any financial inclusion assessment process created by the Comptroller of the Currency in any rule relating to the chartering of a financial institution, the Comptroller shall consider as a factor capital investment, loan participation, and other ventures undertaken by the bank in cooperation with Black banks, women&#39;s banks, community development financial institutions, and low-income credit unions, provided that these activities help meet the financial needs of local communities in which the federally chartered financial institution provides financial products or services.(2) Definitions.--For purposes of this section:(A) Community development financial institution.--The term ``community development financial institution&#39;&#39; has the meaning given in section 103(5) of the Riegle Community Development and Regulatory Improvement Act of 1994 (12 U.S.C. 4702(5)).(B) Financial inclusion assessment process.--The term ``financial inclusion assessment process&#39;&#39; means any process relating to the chartering of a financial institution whereby the Comptroller of the Currency assesses and takes into account the financial institution&#39;s record of meeting the financial needs of the bank&#39;s entire community, including low- and moderate-income neighborhoods, consistent with the safe and sound operation of such bank.(C) Financial product or service.--The term ``financial product or service&#39;&#39; has the meaning given such term in section 1002 of the Dodd-Frank Wall Street Reform and Consumer Protection Act (12 U.S.C. 5481).(D) FIRREA definitions.--The terms ``low-income credit union&#39;&#39; and ``women&#39;s bank&#39;&#39; have the meanings given such terms, respectively, in section 1204(c) of the Financial Institutions Reform, Recovery, and Enforcement Act of 1989 (12 U.S.C. 1811 note).SEC. 4. GAO STUDIES.(a) New Markets Tax Credit Study.--The Comptroller General of the United States shall carry out a study on the award of the new markets tax credit by--(1) surveying communities and specifically talking to Black banks, community banks, and CDFIs that wish to receive the tax credit about why they are not receiving the tax credit;(2) determining where the tax credit money actually went and what it was used for; and(3) to the extent possible, using a case study approach.(b) Lower-Value Home Mortgage Loan Study.--The Comptroller General of the United States shall carry out a study on mortgage loans with a principal amount of $100,000 or less, including--(1) who is making such loans currently;(2) how communities are encouraging such loans;(3) what changes could encourage banks and other persons to provide more such loans; and(4) any statutory or regulatory changes that the Comptroller believes may be needed to encourage more such loans.(c) Blockchain Study.--The Comptroller General of the United States shall carry out a study on blockchain technology and whether such technology could be used to increase investment by lower-income individuals in start-ups and other crowd-funded companies.SEC. 5. DEFINITIONS.For purposes of this Act:(1) Black bank.--The term ``Black bank&#39;&#39; means an insured depository institution--(A) more than 50 percent of the ownership or control of which is held by 1 or more Black individuals; and(B) more than 50 percent of the net profit or loss of which accrues to 1 or more Black individuals.(2) CDFI.--The term ``CDFI&#39;&#39; has the meaning given the term ``community development financial institution&#39;&#39; under section 103 of the Community Development Banking and Financial Institutions Act of 1994.(3) Community bank.--The term ``community bank&#39;&#39; means an insured depository institution with less than $100,000,000 in consolidated assets.(4) Comptroller.--The term ``Comptroller&#39;&#39; means the Comptroller of the Currency, except when used in the context of the Comptroller General of the United States.(5) Insured credit union.--The term ``insured credit union&#39;&#39; has the meaning given such term under section 101 of the Federal Credit Union Act.(6) Insured depository institution.--The term ``insured depository institution&#39;&#39;--(A) has the meaning given such term under section 3 of the Federal Deposit Insurance Act; and(B) includes an insured credit union.(7) Securities laws.--The term ``securities laws&#39;&#39; has the meaning given such term under section 3 of the Securities Exchange Act of 1934 (15 U.S.C. 78c). &lt;all&gt;&quot;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bills</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">IndexError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">25</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">bills</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="ne">IndexError</span>: list index out of range
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bills</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;117th CONGRESS 1st Session H. R. 435 To exclude from tax certain payments of Federal pandemic unemployment compensation, and for other purposes. _______________________________________________________________________ IN THE HOUSE OF REPRESENTATIVES January 21, 2021 Ms. Velazquez (for herself, Ms. Norton, Ms. Williams of Georgia, Mr. Smith of Washington, Ms. Jayapal, Mr. Meeks, Mr. Welch, Ms. Schakowsky, Ms. Kaptur, Ms. Tlaib, Ms. Wild, Ms. Newman, Ms. Lee of California, Ms. Meng, and Mr. Nadler) introduced the following bill; which was referred to the Committee on Ways and Means _______________________________________________________________________ A BILL To exclude from tax certain payments of Federal pandemic unemployment compensation, and for other purposes. Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled, SECTION 1. SHORT TITLE. This Act may be cited as the ``Excluding Pandemic Unemployment Compensation from Income Act&#39;&#39;. SEC. 2. CERTAIN PAYMENTS OF FEDERAL PANDEMIC UNEMPLOYMENT COMPENSATION NOT INCLUDIBLE IN GROSS INCOME OR TAKEN INTO ACCOUNT IN DETERMINING CERTAIN MEANS-TESTED BENEFITS. (a) Exclusion From Gross Income.--For purposes of the Internal Revenue Code of 1986, gross income shall not include the amount specified in section 2104(b)(3) of the CARES Act to the extent such amount is received by the taxpayer pursuant to section 2102, 2104, or 2107 of such Act. (b) Disregarded in the Administration of Federal Programs and Federally Assisted Programs.--For purposes of section 6409 of the Internal Revenue Code of 1986, any amount excluded from gross income under subsection (a) shall be treated in the same manner as a refund under such Code. (c) Effective Dates.-- (1) Exclusion.--Subsection (a) shall apply to taxable years ending after the date of the enactment of the CARES Act. (2) Disregard.--Subsection (b) shall apply to amounts received after the date of the enactment of the CARES Act. &lt;all&gt; [Congressional Bills 117th Congress] [From the U.S. Government Publishing Office] [H.R. 886 Introduced in House (IH)] &lt;DOC&gt;&quot;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bills</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;117th CONGRESS 1st Session H. R. 269 To enhance the safety of ports of entry in the United States, and for other purposes. _______________________________________________________________________ IN THE HOUSE OF REPRESENTATIVES January 11, 2021 Mr. Vela introduced the following bill; which was referred to the Committee on Transportation and Infrastructure _______________________________________________________________________ A BILL To enhance the safety of ports of entry in the United States, and for other purposes. Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled, SECTION 1. SHORT TITLE. This Act may be cited as the ``Putting Our Resources Toward Security (PORTS) Act&#39;&#39;. SEC. 2. IMPROVING PORTS OF ENTRY FOR BORDER SECURITY AND OTHER PURPOSES. (1) In general.--There are authorized to be appropriated to the Administrator of the General Services Administration $2,000,000,000 for each of fiscal years 2022 through 2024 to make improvements to existing ports of entry in the United States to improve border security and for other purposes. (2) Priority.--In making improvements described in subsection (a), the Administrator of the General Services Administration, in coordination with the Secretary of Homeland Security, shall give priority to the ports of entry that the Administrator determines are in most need of repair to improve border security and for other purposes in accordance with port of entry infrastructure assessment studies required in section 603 of title VI, division E, of the Consolidated Appropriations Act of 2008 (Public Law 110-161). &lt;all&gt; [Congressional Bills 117th Congress] [From the U.S. Government Publishing Office] [H.R. 144 Introduced in House (IH)] &lt;DOC&gt;&quot;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bills</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;117th CONGRESS 1st Session H. R. 154 To provide regulatory relief for Black and community banks, to codify the Minority Bank Deposit Program, and for other purposes. _______________________________________________________________________ IN THE HOUSE OF REPRESENTATIVES January 4, 2021 Mr. Rush (for himself, Mr. Carson, Ms. Clarke of New York, Mr. Cooper, Mr. Khanna, and Mr. Welch) introduced the following bill; which was referred to the Committee on Financial Services, and in addition to the Committee on Ways and Means, for a period to be subsequently determined by the Speaker, in each case for consideration of such provisions as fall within the jurisdiction of the committee concerned _______________________________________________________________________ A BILL To provide regulatory relief for Black and community banks, to codify the Minority Bank Deposit Program, and for other purposes. Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled, SECTION 1. SHORT TITLE. This Act may be cited as the ``Reenergized Economic Sustainability for Community and Urban Entities Act for Black and Community Banks&#39;&#39; or the ``RESCUE Act for Black and Community Banks&#39;&#39;. SEC. 2. REGULATION OF BLACK AND COMMUNITY BANKS. (a) Office of Black and Community Banks.-- (1) Establishment.--There is established within the Office of the Comptroller of the Currency an office to be known as the ``Office of Black and Community Banks&#39;&#39;. (2) Supervision and examination of black banks and community banks.--The Comptroller of the Currency, acting through the Office of Black and Community Banks, shall supervise and examine Black banks and community banks. (3) Regulatory relief.-- (A) In general.--The Comptroller shall issue regulations to partially or completely exempt Black banks and community banks from Federal banking statutes and regulations, to the extent the Comptroller determines it appropriate without endangering the safety and soundness of such banks. (B) Treatment of manual underwriting.--For purposes of risk-based capital requirements for Black banks and community banks, the Comptroller shall issue regulations to assign a lower level of risk to loans that are issued by such banks using manual underwriting, in recognition of the individualized scrutiny provided by manual underwriting. (C) Encouraging small-dollar lending.--The Comptroller shall issue regulations to encourage affordable small-dollar lending by Black banks and community banks by providing regulatory flexibility with respect to such lending. (b) Regulatory Relief Under the Securities Laws.-- (1) Investment products.--With respect to investment products sold by a Black bank or a community bank (or an affiliate of such bank) to individuals in the community in which such bank is located, the Securities and Exchange Commission shall issue regulations to partially or completely exempt the bank from the securities laws and regulations issued under the securities laws, to the extent the Commission determines it appropriate without endangering the protection of investors. (2) Securities.-- (A) In general.--The Securities and Exchange Commission shall issue regulations to reduce the regulatory burden applicable to Black banks and community banks-- (i) under the amendments made by the Jumpstart Our Business Startups Act; (ii) issuing mortgage-backed securities; and (iii) issuing securities backed by loans guaranteed by the Small Business Act. (B) Crowdfunding exemption.--Section 4A of the Securities Act of 1933 (15 U.S.C. 77d-1) shall not apply to Black banks or community banks. (c) Conforming Change to Definition of Appropriate Federal Banking Agency.--Section 3(q)(1) of the Federal Deposit Insurance Act (12 U.S.C. 1813(q)(1)) is amended-- (1) in subparagraph (B), by striking ``and&#39;&#39; at the end; (2) in subparagraph (C), by adding ``and&#39;&#39; at the end; and (3) by adding at the end the following: ``(D) notwithstanding paragraphs (2) and (3), any Black bank or community bank (as such terms are defined under section 5 of the RESCUE Act for Black and Community Banks);&#39;&#39;. SEC. 3. CODIFICATION OF THE MINORITY BANK DEPOSIT PROGRAM. (a) In General.-- (1) In general.--Section 1204 of the Financial Institutions Reform, Recovery, and Enforcement Act of 1989 (12 U.S.C. 1811 note) is amended to read as follows: ``SEC. 1204. EXPANSION OF USE OF MINORITY BANKS, WOMEN&#39;S BANKS, AND LOW-INCOME CREDIT UNIONS. ``(a) Minority Bank Deposit Program.-- ``(1) Establishment.--There is established a program to be known as the `Minority Bank Deposit Program&#39; to expand the use of minority banks, women&#39;s banks, and low-income credit unions. ``(2) Administration.--The Secretary of the Treasury, acting through the Fiscal Service, shall-- ``(A) on application by a depository institution or credit union, certify whether such depository institution or credit union is a minority bank, women&#39;s bank, or low-income credit union; ``(B) maintain and publish a list of all depository institutions and credit unions that have been certified pursuant to subparagraph (A); ``(C) periodically distribute the list described in subparagraph (B) to-- ``(i) all Federal departments and agencies; ``(ii) interested State and local governments; and ``(iii) interested private sector companies; and ``(D) support the creation of ratings, online Black bank resources, and database products, including online lending and investment facilities. ``(3) Inclusion of certain entities on list.--A depository institution or credit union that, on the date of the enactment of this section, has a current certification from the Secretary of the Treasury stating that such depository institution or credit union is a minority bank, women&#39;s bank, or low-income credit union shall be included on the list described under paragraph (2)(B). ``(b) Expanded Use Among Federal Departments and Agencies.-- ``(1) In general.--Not later than 1 year after the establishment of the program described in subsection (a), the head of each Federal department or agency shall develop and implement standards and procedures to ensure, to the maximum extent possible as permitted by law, the use of minority banks, women&#39;s banks, and low-income credit unions to serve the financial needs of each such department or agency. ``(2) Minimum requirement.--Notwithstanding paragraph (1), the head of each Federal department or agency shall ensure that at least 10 percent of the financial needs of each such department or agency are met by the use of minority banks, women&#39;s banks, and low-income credit unions. ``(3) Report to congress.--Not later than 2 years after the establishment of the program described in subsection (a), and annually thereafter, the head of each Federal department or agency shall submit to Congress a report on the actions taken to increase the use of minority banks, women&#39;s banks, and low- income credit unions to serve the financial needs of each such department or agency. ``(c) Definitions.--For purposes of this section: ``(1) Credit union.--The term `credit union&#39; has the meaning given the term `insured credit union&#39; in section 101 of the Federal Credit Union Act (12 U.S.C. 1752). ``(2) Depository institution.--The term `depository institution&#39; has the meaning given the term `insured depository institution&#39; in section 3 of the Federal Deposit Insurance Act (12 U.S.C. 1813). ``(3) Low-income credit union.--The term `low-income credit union&#39; means any entity described in section 19(b)(1)(A)(iv) of the Federal Reserve Act. ``(4) Minority.--The term `minority&#39; means any Black American, Native American, Hispanic American, or Asian American. ``(5) Minority bank.--The term `minority bank&#39; means any bank described in clause (i), (ii), or (iii) of section 19(b)(1)(A) of the Federal Reserve Act for which-- ``(A) more than 50 percent of the outstanding shares of which are held by 1 or more minority individuals; ``(B) the majority of the directors on the board of directors of which are minority individuals; and ``(C) a significant percentage of senior management positions of which are held by minority individuals. ``(6) Women&#39;s bank.--The term `women&#39;s bank&#39; means any bank described in clause (i), (ii), or (iii) of section 19(b)(1)(A) of the Federal Reserve Act for which-- ``(A) more than 50 percent of the outstanding shares of which are held by 1 or more women; ``(B) the majority of the directors on the board of directors of which are women; and ``(C) a significant percentage of senior management positions of which are held by women.&#39;&#39;. (2) Conforming amendments.--The following provisions are amended by striking ``1204(c)(3)&#39;&#39; and inserting ``1204(c)&#39;&#39;: (A) Section 808(b)(3) of the Community Reinvestment Act of 1977 (12 U.S.C. 2907(b)(3)). (B) Section 40(g)(1)(B) of the Federal Deposit Insurance Act (12 U.S.C. 1831q(g)(1)(B)). (C) Section 704B(h)(4) of the Equal Credit Opportunity Act (15 U.S.C. 1691c-2(h)(4)). (b) Amendments to the Community Reinvestment Act.--Section 804(b) of the Community Reinvestment Act of 1977 (12 U.S.C. 2903(b)) is amended to read as follows: ``(b) Cooperation With Minority Banks, Women&#39;s Banks, and Low- Income Credit Unions Considered.-- ``(1) In general.--In assessing and taking into account, under subsection (a), the record of a financial institution, the appropriate Federal financial supervisory agency shall consider as a factor capital investment, loan participation, and other ventures undertaken by the institution in cooperation with minority banks, women&#39;s banks, community development financial institutions, and low-income credit unions provided that these activities help meet the credit needs of local communities in which such institutions and credit unions are chartered. ``(2) Definitions.-- ``(A) FIRREA definitions.--The terms `low-income credit union&#39;, `minority bank&#39;, and `women&#39;s bank&#39; have the meanings given such terms, respectively, in section 1204(c) of the Financial Institutions Reform, Recovery, and Enforcement Act of 1989 (12 U.S.C. 1811 note). ``(B) Community development financial institution.--The term `community development financial institution&#39; has the meaning given in section 103(5) of the Riegle Community Development and Regulatory Improvement Act of 1994 (12 U.S.C. 4702(5)).&#39;&#39;. (c) Considerations When Assessing Financial Inclusion for Federally Chartered Financial Institutions.-- (1) In general.--In assessing and taking into account the record of a federally chartered financial institution under any financial inclusion assessment process created by the Comptroller of the Currency in any rule relating to the chartering of a financial institution, the Comptroller shall consider as a factor capital investment, loan participation, and other ventures undertaken by the bank in cooperation with Black banks, women&#39;s banks, community development financial institutions, and low-income credit unions, provided that these activities help meet the financial needs of local communities in which the federally chartered financial institution provides financial products or services. (2) Definitions.--For purposes of this section: (A) Community development financial institution.-- The term ``community development financial institution&#39;&#39; has the meaning given in section 103(5) of the Riegle Community Development and Regulatory Improvement Act of 1994 (12 U.S.C. 4702(5)). (B) Financial inclusion assessment process.--The term ``financial inclusion assessment process&#39;&#39; means any process relating to the chartering of a financial institution whereby the Comptroller of the Currency assesses and takes into account the financial institution&#39;s record of meeting the financial needs of the bank&#39;s entire community, including low- and moderate-income neighborhoods, consistent with the safe and sound operation of such bank. (C) Financial product or service.--The term ``financial product or service&#39;&#39; has the meaning given such term in section 1002 of the Dodd-Frank Wall Street Reform and Consumer Protection Act (12 U.S.C. 5481). (D) FIRREA definitions.--The terms ``low-income credit union&#39;&#39; and ``women&#39;s bank&#39;&#39; have the meanings given such terms, respectively, in section 1204(c) of the Financial Institutions Reform, Recovery, and Enforcement Act of 1989 (12 U.S.C. 1811 note). SEC. 4. GAO STUDIES. (a) New Markets Tax Credit Study.--The Comptroller General of the United States shall carry out a study on the award of the new markets tax credit by-- (1) surveying communities and specifically talking to Black banks, community banks, and CDFIs that wish to receive the tax credit about why they are not receiving the tax credit; (2) determining where the tax credit money actually went and what it was used for; and (3) to the extent possible, using a case study approach. (b) Lower-Value Home Mortgage Loan Study.--The Comptroller General of the United States shall carry out a study on mortgage loans with a principal amount of $100,000 or less, including-- (1) who is making such loans currently; (2) how communities are encouraging such loans; (3) what changes could encourage banks and other persons to provide more such loans; and (4) any statutory or regulatory changes that the Comptroller believes may be needed to encourage more such loans. (c) Blockchain Study.--The Comptroller General of the United States shall carry out a study on blockchain technology and whether such technology could be used to increase investment by lower-income individuals in start-ups and other crowd-funded companies. SEC. 5. DEFINITIONS. For purposes of this Act: (1) Black bank.--The term ``Black bank&#39;&#39; means an insured depository institution-- (A) more than 50 percent of the ownership or control of which is held by 1 or more Black individuals; and (B) more than 50 percent of the net profit or loss of which accrues to 1 or more Black individuals. (2) CDFI.--The term ``CDFI&#39;&#39; has the meaning given the term ``community development financial institution&#39;&#39; under section 103 of the Community Development Banking and Financial Institutions Act of 1994. (3) Community bank.--The term ``community bank&#39;&#39; means an insured depository institution with less than $100,000,000 in consolidated assets. (4) Comptroller.--The term ``Comptroller&#39;&#39; means the Comptroller of the Currency, except when used in the context of the Comptroller General of the United States. (5) Insured credit union.--The term ``insured credit union&#39;&#39; has the meaning given such term under section 101 of the Federal Credit Union Act. (6) Insured depository institution.--The term ``insured depository institution&#39;&#39;-- (A) has the meaning given such term under section 3 of the Federal Deposit Insurance Act; and (B) includes an insured credit union. (7) Securities laws.--The term ``securities laws&#39;&#39; has the meaning given such term under section 3 of the Securities Exchange Act of 1934 (15 U.S.C. 78c). &lt;all&gt;&quot;
</pre></div>
</div>
</div>
</div>
</section>
<section id="id1">
<h3>follow-up prompt:<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>You split the first bill incorrectly. make sure the first bill header information is included with the body of the bill, like on the other bills</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">split_bills</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="c1"># Regular expression to detect the start of a new bill</span>
    <span class="n">bill_start_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\n\[Congressional Bills \d+th Congress\]\n.*?\n.*?Introduced in House \(IH\)\]\n&quot;</span><span class="p">)</span>
    
    <span class="c1"># Find all start positions of bills</span>
    <span class="n">matches</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">bill_start_pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
    
    <span class="n">bills</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">matches</span><span class="p">)):</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">matches</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
        <span class="n">end</span> <span class="o">=</span> <span class="n">matches</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">start</span><span class="p">()</span> <span class="k">if</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span> <span class="k">else</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="n">bills</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    
    <span class="k">return</span> <span class="n">bills</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bills</span> <span class="o">=</span> <span class="n">split_bills</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bills</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[]
</pre></div>
</div>
</div>
</div>
</section>
<section id="id2">
<h3>follow-up prompt<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<p>Now I‚Äôm getting nothing for bills</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">re</span>

<span class="k">def</span><span class="w"> </span><span class="nf">split_bills</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="c1"># Regular expression to detect the start of a new bill</span>
    <span class="n">bill_start_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(\[Congressional Bills \d+th Congress\].*?Introduced in House \(IH\)\])&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">DOTALL</span><span class="p">)</span>

    <span class="c1"># Split based on detected bill headers</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="n">bill_start_pattern</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    
    <span class="c1"># Reconstruct bills ensuring the header stays with the content</span>
    <span class="n">bills</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">),</span> <span class="mi">2</span><span class="p">):</span>
        <span class="n">header</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">body</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">if</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
        <span class="n">bills</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">header</span><span class="si">}</span><span class="se">\n\n</span><span class="si">{</span><span class="n">body</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">bills</span>

<span class="n">bills</span> <span class="o">=</span> <span class="n">split_bills</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bills</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;[Congressional Bills 117th Congress] [From the U.S. Government Publishing Office] [H.R. 1112 Introduced in House (IH)]\n\n&lt;DOC&gt; 117th CONGRESS 1st Session H. R. 1112 To require a report on the military coup in Burma, and for other purposes. _______________________________________________________________________ IN THE HOUSE OF REPRESENTATIVES February 18, 2021 Mr. Connolly (for himself, Mr. Price of North Carolina, and Mr. Buchanan) introduced the following bill; which was referred to the Committee on Foreign Affairs _______________________________________________________________________ A BILL To require a report on the military coup in Burma, and for other purposes. Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled, SECTION 1. SHORT TITLE. This Act may be cited as the ``Protect Democracy in Burma Act of 2021&#39;&#39;. SEC. 2. FINDINGS. Congress finds the following: (1) On March 14, 2005, the House of Representatives agreed to H. Res. 135, which established the House Democracy Assistance Commission (later changed to the House Democracy Partnership, hereafter referred to as ``HDP&#39;&#39;) to work directly with parliaments around the world to support the development of effective, independent, and responsive legislative institutions. (2) HDP approved a legislative strengthening partnership with Burma in 2016 and organized the first congressional delegation to meet with the new civilian-led government, led by State Counselor Aung San Suu Kyi, and civil society leaders in May 2016. (3) On February 2, 2021, the U.S. Department of State assessed that Daw Aung San Suu Kyi, the leader of Burma&#39;s ruling party, and President Win Myint, the duly elected head of government, were deposed in a military coup on February 1, 2021. (4) As part of the military coup, the Burmese military declared martial law, suspended the civilian-led government, and detained newly elected Members of Parliament in the capitol, Naypyidaw, thereby usurping the role of the democratically elected government and parliament. SEC. 3. SENSE OF CONGRESS. It is the sense of Congress that-- (1) due to the Burmese military&#39;s seizure of government through the detention of State Counsellor Aung San Suu Kyi, President Win Myint, and other government leaders, Burma is not represented by a democratically elected government; (2) the inability of newly elected Members of Parliament to begin their official mandate due to the Burmese military&#39;s actions directly threatens the democratic trajectory of Burma&#39;s Parliament, and thereby the country; (3) the will and determination of those duly-elected Members of Parliament who are taking it upon themselves to continue serving as representatives of the people through alternative methods of communicating and convening should be lauded; and (4) by preventing the Parliament from completing its work, the Burmese military has rendered impossible and effectively nullified the international collaborative relationships that have supported and strengthened the institution, including the Burmese parliament&#39;s partnership with HDP. SEC. 4. STATEMENT OF POLICY. It is the policy of the United States to-- (1) engage with the Association of Southeast Asian Nations (ASEAN) and ASEAN member states to-- (A) condemn the military coup in Burma; (B) urge the unconditional release of detained democratically elected leaders and civil society members; and (C) support a return to Burma&#39;s democratic transition; and (2) instruct, as appropriate, representatives of the United States Government to use the voice, vote, and influence of the United States at the United Nations to hold accountable those responsible for the military coup in Burma. SEC. 5. REPORT. Not later than 90 days after the date of the enactment of this Act, the Secretary of State shall submit to the Committee on Foreign Affairs and the Committee on Appropriations of the House of Representatives and the Committee on Foreign Relations and the Committee on Appropriations of the Senate a report on the military coup in Burma, including a description of efforts to implement the policy specified in section 4. &lt;all&gt;&quot;
</pre></div>
</div>
</div>
</div>
</section>
<section id="id3">
<h3>follow-up prompt<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<p>Extract metadata for title, number, session, and plain text</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">extract_metadata</span><span class="p">(</span><span class="n">bill_text</span><span class="p">):</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="c1"># Extract bill number</span>
    <span class="n">bill_number_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\[Congressional Bills (\d+th Congress)\]&quot;</span><span class="p">,</span> <span class="n">bill_text</span><span class="p">)</span>
    <span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;session_number&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bill_number_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">bill_number_match</span> <span class="k">else</span> <span class="s2">&quot;Unknown&quot;</span>
    
    <span class="c1"># Extract title</span>
    <span class="n">title_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\n(.*?)\n.*?Introduced in House&quot;</span><span class="p">,</span> <span class="n">bill_text</span><span class="p">)</span>
    <span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">title_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">if</span> <span class="n">title_match</span> <span class="k">else</span> <span class="s2">&quot;Unknown&quot;</span>
    
    <span class="c1"># Extract bill number from text header</span>
    <span class="n">bill_id_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(H\.R\. \d+|S\. \d+)&quot;</span><span class="p">,</span> <span class="n">bill_text</span><span class="p">)</span>
    <span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;bill_number&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bill_id_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">bill_id_match</span> <span class="k">else</span> <span class="s2">&quot;Unknown&quot;</span>
    
    <span class="c1"># Store the plain text content</span>
    <span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bill_text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    
    <span class="k">return</span> <span class="n">metadata</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">extract_metadata</span><span class="p">(</span><span class="n">bills</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;session_number&#39;: &#39;117th Congress&#39;,
 &#39;title&#39;: &#39;Unknown&#39;,
 &#39;bill_number&#39;: &#39;H.R. 1112&#39;,
 &#39;text&#39;: &quot;[Congressional Bills 117th Congress] [From the U.S. Government Publishing Office] [H.R. 1112 Introduced in House (IH)]\n\n&lt;DOC&gt; 117th CONGRESS 1st Session H. R. 1112 To require a report on the military coup in Burma, and for other purposes. _______________________________________________________________________ IN THE HOUSE OF REPRESENTATIVES February 18, 2021 Mr. Connolly (for himself, Mr. Price of North Carolina, and Mr. Buchanan) introduced the following bill; which was referred to the Committee on Foreign Affairs _______________________________________________________________________ A BILL To require a report on the military coup in Burma, and for other purposes. Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled, SECTION 1. SHORT TITLE. This Act may be cited as the ``Protect Democracy in Burma Act of 2021&#39;&#39;. SEC. 2. FINDINGS. Congress finds the following: (1) On March 14, 2005, the House of Representatives agreed to H. Res. 135, which established the House Democracy Assistance Commission (later changed to the House Democracy Partnership, hereafter referred to as ``HDP&#39;&#39;) to work directly with parliaments around the world to support the development of effective, independent, and responsive legislative institutions. (2) HDP approved a legislative strengthening partnership with Burma in 2016 and organized the first congressional delegation to meet with the new civilian-led government, led by State Counselor Aung San Suu Kyi, and civil society leaders in May 2016. (3) On February 2, 2021, the U.S. Department of State assessed that Daw Aung San Suu Kyi, the leader of Burma&#39;s ruling party, and President Win Myint, the duly elected head of government, were deposed in a military coup on February 1, 2021. (4) As part of the military coup, the Burmese military declared martial law, suspended the civilian-led government, and detained newly elected Members of Parliament in the capitol, Naypyidaw, thereby usurping the role of the democratically elected government and parliament. SEC. 3. SENSE OF CONGRESS. It is the sense of Congress that-- (1) due to the Burmese military&#39;s seizure of government through the detention of State Counsellor Aung San Suu Kyi, President Win Myint, and other government leaders, Burma is not represented by a democratically elected government; (2) the inability of newly elected Members of Parliament to begin their official mandate due to the Burmese military&#39;s actions directly threatens the democratic trajectory of Burma&#39;s Parliament, and thereby the country; (3) the will and determination of those duly-elected Members of Parliament who are taking it upon themselves to continue serving as representatives of the people through alternative methods of communicating and convening should be lauded; and (4) by preventing the Parliament from completing its work, the Burmese military has rendered impossible and effectively nullified the international collaborative relationships that have supported and strengthened the institution, including the Burmese parliament&#39;s partnership with HDP. SEC. 4. STATEMENT OF POLICY. It is the policy of the United States to-- (1) engage with the Association of Southeast Asian Nations (ASEAN) and ASEAN member states to-- (A) condemn the military coup in Burma; (B) urge the unconditional release of detained democratically elected leaders and civil society members; and (C) support a return to Burma&#39;s democratic transition; and (2) instruct, as appropriate, representatives of the United States Government to use the voice, vote, and influence of the United States at the United Nations to hold accountable those responsible for the military coup in Burma. SEC. 5. REPORT. Not later than 90 days after the date of the enactment of this Act, the Secretary of State shall submit to the Committee on Foreign Affairs and the Committee on Appropriations of the House of Representatives and the Committee on Foreign Relations and the Committee on Appropriations of the Senate a report on the military coup in Burma, including a description of efforts to implement the policy specified in section 4. &lt;all&gt;&quot;}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">extract_metadata</span><span class="p">(</span><span class="n">bills</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;session_number&#39;: &#39;117th Congress&#39;,
 &#39;title&#39;: &#39;Unknown&#39;,
 &#39;bill_number&#39;: &#39;H.R. 154&#39;,
 &#39;text&#39;: &quot;[Congressional Bills 117th Congress] [From the U.S. Government Publishing Office] [H.R. 154 Introduced in House (IH)]\n\n&lt;DOC&gt; 117th CONGRESS 1st Session H. R. 154 To provide regulatory relief for Black and community banks, to codify the Minority Bank Deposit Program, and for other purposes. _______________________________________________________________________ IN THE HOUSE OF REPRESENTATIVES January 4, 2021 Mr. Rush (for himself, Mr. Carson, Ms. Clarke of New York, Mr. Cooper, Mr. Khanna, and Mr. Welch) introduced the following bill; which was referred to the Committee on Financial Services, and in addition to the Committee on Ways and Means, for a period to be subsequently determined by the Speaker, in each case for consideration of such provisions as fall within the jurisdiction of the committee concerned _______________________________________________________________________ A BILL To provide regulatory relief for Black and community banks, to codify the Minority Bank Deposit Program, and for other purposes. Be it enacted by the Senate and House of Representatives of the United States of America in Congress assembled, SECTION 1. SHORT TITLE. This Act may be cited as the ``Reenergized Economic Sustainability for Community and Urban Entities Act for Black and Community Banks&#39;&#39; or the ``RESCUE Act for Black and Community Banks&#39;&#39;. SEC. 2. REGULATION OF BLACK AND COMMUNITY BANKS. (a) Office of Black and Community Banks.-- (1) Establishment.--There is established within the Office of the Comptroller of the Currency an office to be known as the ``Office of Black and Community Banks&#39;&#39;. (2) Supervision and examination of black banks and community banks.--The Comptroller of the Currency, acting through the Office of Black and Community Banks, shall supervise and examine Black banks and community banks. (3) Regulatory relief.-- (A) In general.--The Comptroller shall issue regulations to partially or completely exempt Black banks and community banks from Federal banking statutes and regulations, to the extent the Comptroller determines it appropriate without endangering the safety and soundness of such banks. (B) Treatment of manual underwriting.--For purposes of risk-based capital requirements for Black banks and community banks, the Comptroller shall issue regulations to assign a lower level of risk to loans that are issued by such banks using manual underwriting, in recognition of the individualized scrutiny provided by manual underwriting. (C) Encouraging small-dollar lending.--The Comptroller shall issue regulations to encourage affordable small-dollar lending by Black banks and community banks by providing regulatory flexibility with respect to such lending. (b) Regulatory Relief Under the Securities Laws.-- (1) Investment products.--With respect to investment products sold by a Black bank or a community bank (or an affiliate of such bank) to individuals in the community in which such bank is located, the Securities and Exchange Commission shall issue regulations to partially or completely exempt the bank from the securities laws and regulations issued under the securities laws, to the extent the Commission determines it appropriate without endangering the protection of investors. (2) Securities.-- (A) In general.--The Securities and Exchange Commission shall issue regulations to reduce the regulatory burden applicable to Black banks and community banks-- (i) under the amendments made by the Jumpstart Our Business Startups Act; (ii) issuing mortgage-backed securities; and (iii) issuing securities backed by loans guaranteed by the Small Business Act. (B) Crowdfunding exemption.--Section 4A of the Securities Act of 1933 (15 U.S.C. 77d-1) shall not apply to Black banks or community banks. (c) Conforming Change to Definition of Appropriate Federal Banking Agency.--Section 3(q)(1) of the Federal Deposit Insurance Act (12 U.S.C. 1813(q)(1)) is amended-- (1) in subparagraph (B), by striking ``and&#39;&#39; at the end; (2) in subparagraph (C), by adding ``and&#39;&#39; at the end; and (3) by adding at the end the following: ``(D) notwithstanding paragraphs (2) and (3), any Black bank or community bank (as such terms are defined under section 5 of the RESCUE Act for Black and Community Banks);&#39;&#39;. SEC. 3. CODIFICATION OF THE MINORITY BANK DEPOSIT PROGRAM. (a) In General.-- (1) In general.--Section 1204 of the Financial Institutions Reform, Recovery, and Enforcement Act of 1989 (12 U.S.C. 1811 note) is amended to read as follows: ``SEC. 1204. EXPANSION OF USE OF MINORITY BANKS, WOMEN&#39;S BANKS, AND LOW-INCOME CREDIT UNIONS. ``(a) Minority Bank Deposit Program.-- ``(1) Establishment.--There is established a program to be known as the `Minority Bank Deposit Program&#39; to expand the use of minority banks, women&#39;s banks, and low-income credit unions. ``(2) Administration.--The Secretary of the Treasury, acting through the Fiscal Service, shall-- ``(A) on application by a depository institution or credit union, certify whether such depository institution or credit union is a minority bank, women&#39;s bank, or low-income credit union; ``(B) maintain and publish a list of all depository institutions and credit unions that have been certified pursuant to subparagraph (A); ``(C) periodically distribute the list described in subparagraph (B) to-- ``(i) all Federal departments and agencies; ``(ii) interested State and local governments; and ``(iii) interested private sector companies; and ``(D) support the creation of ratings, online Black bank resources, and database products, including online lending and investment facilities. ``(3) Inclusion of certain entities on list.--A depository institution or credit union that, on the date of the enactment of this section, has a current certification from the Secretary of the Treasury stating that such depository institution or credit union is a minority bank, women&#39;s bank, or low-income credit union shall be included on the list described under paragraph (2)(B). ``(b) Expanded Use Among Federal Departments and Agencies.-- ``(1) In general.--Not later than 1 year after the establishment of the program described in subsection (a), the head of each Federal department or agency shall develop and implement standards and procedures to ensure, to the maximum extent possible as permitted by law, the use of minority banks, women&#39;s banks, and low-income credit unions to serve the financial needs of each such department or agency. ``(2) Minimum requirement.--Notwithstanding paragraph (1), the head of each Federal department or agency shall ensure that at least 10 percent of the financial needs of each such department or agency are met by the use of minority banks, women&#39;s banks, and low-income credit unions. ``(3) Report to congress.--Not later than 2 years after the establishment of the program described in subsection (a), and annually thereafter, the head of each Federal department or agency shall submit to Congress a report on the actions taken to increase the use of minority banks, women&#39;s banks, and low- income credit unions to serve the financial needs of each such department or agency. ``(c) Definitions.--For purposes of this section: ``(1) Credit union.--The term `credit union&#39; has the meaning given the term `insured credit union&#39; in section 101 of the Federal Credit Union Act (12 U.S.C. 1752). ``(2) Depository institution.--The term `depository institution&#39; has the meaning given the term `insured depository institution&#39; in section 3 of the Federal Deposit Insurance Act (12 U.S.C. 1813). ``(3) Low-income credit union.--The term `low-income credit union&#39; means any entity described in section 19(b)(1)(A)(iv) of the Federal Reserve Act. ``(4) Minority.--The term `minority&#39; means any Black American, Native American, Hispanic American, or Asian American. ``(5) Minority bank.--The term `minority bank&#39; means any bank described in clause (i), (ii), or (iii) of section 19(b)(1)(A) of the Federal Reserve Act for which-- ``(A) more than 50 percent of the outstanding shares of which are held by 1 or more minority individuals; ``(B) the majority of the directors on the board of directors of which are minority individuals; and ``(C) a significant percentage of senior management positions of which are held by minority individuals. ``(6) Women&#39;s bank.--The term `women&#39;s bank&#39; means any bank described in clause (i), (ii), or (iii) of section 19(b)(1)(A) of the Federal Reserve Act for which-- ``(A) more than 50 percent of the outstanding shares of which are held by 1 or more women; ``(B) the majority of the directors on the board of directors of which are women; and ``(C) a significant percentage of senior management positions of which are held by women.&#39;&#39;. (2) Conforming amendments.--The following provisions are amended by striking ``1204(c)(3)&#39;&#39; and inserting ``1204(c)&#39;&#39;: (A) Section 808(b)(3) of the Community Reinvestment Act of 1977 (12 U.S.C. 2907(b)(3)). (B) Section 40(g)(1)(B) of the Federal Deposit Insurance Act (12 U.S.C. 1831q(g)(1)(B)). (C) Section 704B(h)(4) of the Equal Credit Opportunity Act (15 U.S.C. 1691c-2(h)(4)). (b) Amendments to the Community Reinvestment Act.--Section 804(b) of the Community Reinvestment Act of 1977 (12 U.S.C. 2903(b)) is amended to read as follows: ``(b) Cooperation With Minority Banks, Women&#39;s Banks, and Low- Income Credit Unions Considered.-- ``(1) In general.--In assessing and taking into account, under subsection (a), the record of a financial institution, the appropriate Federal financial supervisory agency shall consider as a factor capital investment, loan participation, and other ventures undertaken by the institution in cooperation with minority banks, women&#39;s banks, community development financial institutions, and low-income credit unions provided that these activities help meet the credit needs of local communities in which such institutions and credit unions are chartered. ``(2) Definitions.-- ``(A) FIRREA definitions.--The terms `low-income credit union&#39;, `minority bank&#39;, and `women&#39;s bank&#39; have the meanings given such terms, respectively, in section 1204(c) of the Financial Institutions Reform, Recovery, and Enforcement Act of 1989 (12 U.S.C. 1811 note). ``(B) Community development financial institution.--The term `community development financial institution&#39; has the meaning given in section 103(5) of the Riegle Community Development and Regulatory Improvement Act of 1994 (12 U.S.C. 4702(5)).&#39;&#39;. (c) Considerations When Assessing Financial Inclusion for Federally Chartered Financial Institutions.-- (1) In general.--In assessing and taking into account the record of a federally chartered financial institution under any financial inclusion assessment process created by the Comptroller of the Currency in any rule relating to the chartering of a financial institution, the Comptroller shall consider as a factor capital investment, loan participation, and other ventures undertaken by the bank in cooperation with Black banks, women&#39;s banks, community development financial institutions, and low-income credit unions, provided that these activities help meet the financial needs of local communities in which the federally chartered financial institution provides financial products or services. (2) Definitions.--For purposes of this section: (A) Community development financial institution.-- The term ``community development financial institution&#39;&#39; has the meaning given in section 103(5) of the Riegle Community Development and Regulatory Improvement Act of 1994 (12 U.S.C. 4702(5)). (B) Financial inclusion assessment process.--The term ``financial inclusion assessment process&#39;&#39; means any process relating to the chartering of a financial institution whereby the Comptroller of the Currency assesses and takes into account the financial institution&#39;s record of meeting the financial needs of the bank&#39;s entire community, including low- and moderate-income neighborhoods, consistent with the safe and sound operation of such bank. (C) Financial product or service.--The term ``financial product or service&#39;&#39; has the meaning given such term in section 1002 of the Dodd-Frank Wall Street Reform and Consumer Protection Act (12 U.S.C. 5481). (D) FIRREA definitions.--The terms ``low-income credit union&#39;&#39; and ``women&#39;s bank&#39;&#39; have the meanings given such terms, respectively, in section 1204(c) of the Financial Institutions Reform, Recovery, and Enforcement Act of 1989 (12 U.S.C. 1811 note). SEC. 4. GAO STUDIES. (a) New Markets Tax Credit Study.--The Comptroller General of the United States shall carry out a study on the award of the new markets tax credit by-- (1) surveying communities and specifically talking to Black banks, community banks, and CDFIs that wish to receive the tax credit about why they are not receiving the tax credit; (2) determining where the tax credit money actually went and what it was used for; and (3) to the extent possible, using a case study approach. (b) Lower-Value Home Mortgage Loan Study.--The Comptroller General of the United States shall carry out a study on mortgage loans with a principal amount of $100,000 or less, including-- (1) who is making such loans currently; (2) how communities are encouraging such loans; (3) what changes could encourage banks and other persons to provide more such loans; and (4) any statutory or regulatory changes that the Comptroller believes may be needed to encourage more such loans. (c) Blockchain Study.--The Comptroller General of the United States shall carry out a study on blockchain technology and whether such technology could be used to increase investment by lower-income individuals in start-ups and other crowd-funded companies. SEC. 5. DEFINITIONS. For purposes of this Act: (1) Black bank.--The term ``Black bank&#39;&#39; means an insured depository institution-- (A) more than 50 percent of the ownership or control of which is held by 1 or more Black individuals; and (B) more than 50 percent of the net profit or loss of which accrues to 1 or more Black individuals. (2) CDFI.--The term ``CDFI&#39;&#39; has the meaning given the term ``community development financial institution&#39;&#39; under section 103 of the Community Development Banking and Financial Institutions Act of 1994. (3) Community bank.--The term ``community bank&#39;&#39; means an insured depository institution with less than $100,000,000 in consolidated assets. (4) Comptroller.--The term ``Comptroller&#39;&#39; means the Comptroller of the Currency, except when used in the context of the Comptroller General of the United States. (5) Insured credit union.--The term ``insured credit union&#39;&#39; has the meaning given such term under section 101 of the Federal Credit Union Act. (6) Insured depository institution.--The term ``insured depository institution&#39;&#39;-- (A) has the meaning given such term under section 3 of the Federal Deposit Insurance Act; and (B) includes an insured credit union. (7) Securities laws.--The term ``securities laws&#39;&#39; has the meaning given such term under section 3 of the Securities Exchange Act of 1934 (15 U.S.C. 78c). &lt;all&gt;&quot;}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bills_metadata</span> <span class="o">=</span> <span class="p">[</span><span class="n">extract_metadata</span><span class="p">(</span><span class="n">bill</span><span class="p">)</span> <span class="k">for</span> <span class="n">bill</span> <span class="ow">in</span> <span class="n">bills</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">bills_metadata</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>list
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bills_metadata</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>session_number</th>
      <th>title</th>
      <th>bill_number</th>
      <th>text</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>117th Congress</td>
      <td>Unknown</td>
      <td>H.R. 1112</td>
      <td>[Congressional Bills 117th Congress] [From the...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>117th Congress</td>
      <td>Unknown</td>
      <td>H.R. 435</td>
      <td>[Congressional Bills 117th Congress] [From the...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>117th Congress</td>
      <td>Unknown</td>
      <td>H.R. 886</td>
      <td>[Congressional Bills 117th Congress] [From the...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>117th Congress</td>
      <td>Unknown</td>
      <td>H.R. 464</td>
      <td>[Congressional Bills 117th Congress] [From the...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>117th Congress</td>
      <td>Unknown</td>
      <td>H.R. 269</td>
      <td>[Congressional Bills 117th Congress] [From the...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>117th Congress</td>
      <td>Unknown</td>
      <td>H.R. 144</td>
      <td>[Congressional Bills 117th Congress] [From the...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>117th Congress</td>
      <td>Unknown</td>
      <td>H.R. 902</td>
      <td>[Congressional Bills 117th Congress] [From the...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>117th Congress</td>
      <td>Unknown</td>
      <td>H.R. 4960</td>
      <td>[Congressional Bills 117th Congress] [From the...</td>
    </tr>
    <tr>
      <th>8</th>
      <td>117th Congress</td>
      <td>Unknown</td>
      <td>H.R. 32</td>
      <td>[Congressional Bills 117th Congress] [From the...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>117th Congress</td>
      <td>Unknown</td>
      <td>H.R. 154</td>
      <td>[Congressional Bills 117th Congress] [From the...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 10 entries, 0 to 9
Data columns (total 4 columns):
 #   Column          Non-Null Count  Dtype 
---  ------          --------------  ----- 
 0   session_number  10 non-null     object
 1   title           10 non-null     object
 2   bill_number     10 non-null     object
 3   text            10 non-null     object
dtypes: object(4)
memory usage: 452.0+ bytes
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    [Congressional Bills 117th Congress] [From the...
1    [Congressional Bills 117th Congress] [From the...
2    [Congressional Bills 117th Congress] [From the...
3    [Congressional Bills 117th Congress] [From the...
4    [Congressional Bills 117th Congress] [From the...
5    [Congressional Bills 117th Congress] [From the...
6    [Congressional Bills 117th Congress] [From the...
7    [Congressional Bills 117th Congress] [From the...
8    [Congressional Bills 117th Congress] [From the...
9    [Congressional Bills 117th Congress] [From the...
Name: text, dtype: object
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Function to extract metadata from a bill</span>
<span class="k">def</span><span class="w"> </span><span class="nf">extract_metadata</span><span class="p">(</span><span class="n">bill_text</span><span class="p">):</span>
    <span class="n">bill_number_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;H\.R\. \d+&quot;</span><span class="p">,</span> <span class="n">bill_text</span><span class="p">)</span>
    
    <span class="c1"># Find the third number occurrence (bill number and other numbers)</span>
    <span class="n">number_matches</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\d+&quot;</span><span class="p">,</span> <span class="n">bill_text</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">number_matches</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="c1"># Find text after the third occurrence of numbers, stopping at the first underscore</span>
        <span class="n">title_start</span> <span class="o">=</span> <span class="n">bill_text</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">number_matches</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">number_matches</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>  <span class="c1"># After the third number</span>
        <span class="n">title_end</span> <span class="o">=</span> <span class="n">bill_text</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="n">title_start</span><span class="p">)</span>  <span class="c1"># Stop at the first underscore</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">bill_text</span><span class="p">[</span><span class="n">title_start</span><span class="p">:</span><span class="n">title_end</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">if</span> <span class="n">title_end</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="k">else</span> <span class="n">bill_text</span><span class="p">[</span><span class="n">title_start</span><span class="p">:]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;No Title Found&quot;</span>
    
    <span class="n">session_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\[Congressional Bills (\d+th Congress)\]&quot;</span><span class="p">,</span> <span class="n">bill_text</span><span class="p">)</span>
    
    <span class="n">bill_number</span> <span class="o">=</span> <span class="n">bill_number_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="n">bill_number_match</span> <span class="k">else</span> <span class="s2">&quot;Unknown&quot;</span>
    <span class="n">session</span> <span class="o">=</span> <span class="n">session_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">session_match</span> <span class="k">else</span> <span class="s2">&quot;Unknown Session&quot;</span>
    
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;Bill Number&quot;</span><span class="p">:</span> <span class="n">bill_number</span><span class="p">,</span>
        <span class="s2">&quot;Title&quot;</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span>
        <span class="s2">&quot;Session&quot;</span><span class="p">:</span> <span class="n">session</span><span class="p">,</span>
        <span class="s2">&quot;Full Text&quot;</span><span class="p">:</span> <span class="n">bill_text</span>
    <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bills_metadata</span> <span class="o">=</span> <span class="p">[</span><span class="n">extract_metadata</span><span class="p">(</span><span class="n">bill</span><span class="p">)</span> <span class="k">for</span> <span class="n">bill</span> <span class="ow">in</span> <span class="n">bills</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bills_metadata</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Bill Number</th>
      <th>Title</th>
      <th>Session</th>
      <th>Full Text</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>H.R. 1112</td>
      <td>th Congress] [From the U.S. Government Publish...</td>
      <td>117th Congress</td>
      <td>[Congressional Bills 117th Congress] [From the...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>H.R. 435</td>
      <td>th Congress] [From the U.S. Government Publish...</td>
      <td>117th Congress</td>
      <td>[Congressional Bills 117th Congress] [From the...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>H.R. 886</td>
      <td>th Congress] [From the U.S. Government Publish...</td>
      <td>117th Congress</td>
      <td>[Congressional Bills 117th Congress] [From the...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>H.R. 464</td>
      <td>th Congress] [From the U.S. Government Publish...</td>
      <td>117th Congress</td>
      <td>[Congressional Bills 117th Congress] [From the...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>H.R. 269</td>
      <td>th Congress] [From the U.S. Government Publish...</td>
      <td>117th Congress</td>
      <td>[Congressional Bills 117th Congress] [From the...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>H.R. 144</td>
      <td>th Congress] [From the U.S. Government Publish...</td>
      <td>117th Congress</td>
      <td>[Congressional Bills 117th Congress] [From the...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>H.R. 902</td>
      <td>th Congress] [From the U.S. Government Publish...</td>
      <td>117th Congress</td>
      <td>[Congressional Bills 117th Congress] [From the...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>H.R. 4960</td>
      <td>th Congress] [From the U.S. Government Publish...</td>
      <td>117th Congress</td>
      <td>[Congressional Bills 117th Congress] [From the...</td>
    </tr>
    <tr>
      <th>8</th>
      <td>H.R. 32</td>
      <td>th Congress] [From the U.S. Government Publish...</td>
      <td>117th Congress</td>
      <td>[Congressional Bills 117th Congress] [From the...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>H.R. 154</td>
      <td>th Congress] [From the U.S. Government Publish...</td>
      <td>117th Congress</td>
      <td>[Congressional Bills 117th Congress] [From the...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="id4">
<h3>follow-up prompt<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p>To get the title, get the text immediately following the third group of consecutive numbers, up until the first underscore</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Function to extract metadata from a bill</span>
<span class="k">def</span><span class="w"> </span><span class="nf">extract_metadata</span><span class="p">(</span><span class="n">bill_text</span><span class="p">):</span>
    <span class="n">bill_number_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;H\.R\. \d+&quot;</span><span class="p">,</span> <span class="n">bill_text</span><span class="p">)</span>
    
    <span class="c1"># Find all groups of consecutive numbers</span>
    <span class="n">number_matches</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\d+&quot;</span><span class="p">,</span> <span class="n">bill_text</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">number_matches</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="c1"># Find the third group of consecutive numbers and extract text following it</span>
        <span class="n">third_number_position</span> <span class="o">=</span> <span class="n">bill_text</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">number_matches</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">number_matches</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>  <span class="c1"># After the third number</span>
        <span class="n">title_start</span> <span class="o">=</span> <span class="n">third_number_position</span>
        
        <span class="c1"># Stop at the first underscore</span>
        <span class="n">title_end</span> <span class="o">=</span> <span class="n">bill_text</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="n">title_start</span><span class="p">)</span>
        
        <span class="c1"># If underscore is found, take text until the underscore, otherwise take all remaining text</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">bill_text</span><span class="p">[</span><span class="n">title_start</span><span class="p">:</span><span class="n">title_end</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">if</span> <span class="n">title_end</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="k">else</span> <span class="n">bill_text</span><span class="p">[</span><span class="n">title_start</span><span class="p">:]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;No Title Found&quot;</span>
    
    <span class="c1"># Extract session (if present)</span>
    <span class="n">session_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\[Congressional Bills (\d+th Congress)\]&quot;</span><span class="p">,</span> <span class="n">bill_text</span><span class="p">)</span>
    
    <span class="n">bill_number</span> <span class="o">=</span> <span class="n">bill_number_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="n">bill_number_match</span> <span class="k">else</span> <span class="s2">&quot;Unknown&quot;</span>
    <span class="n">session</span> <span class="o">=</span> <span class="n">session_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">session_match</span> <span class="k">else</span> <span class="s2">&quot;Unknown Session&quot;</span>
    
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bills_metadata</span> <span class="o">=</span> <span class="p">[</span><span class="n">extract_metadata</span><span class="p">(</span><span class="n">bill</span><span class="p">)</span> <span class="k">for</span> <span class="n">bill</span> <span class="ow">in</span> <span class="n">bills</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bills_metadata</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>None</td>
    </tr>
    <tr>
      <th>2</th>
      <td>None</td>
    </tr>
    <tr>
      <th>3</th>
      <td>None</td>
    </tr>
    <tr>
      <th>4</th>
      <td>None</td>
    </tr>
    <tr>
      <th>5</th>
      <td>None</td>
    </tr>
    <tr>
      <th>6</th>
      <td>None</td>
    </tr>
    <tr>
      <th>7</th>
      <td>None</td>
    </tr>
    <tr>
      <th>8</th>
      <td>None</td>
    </tr>
    <tr>
      <th>9</th>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;trans.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="cleaning-tabular-data-with-openrefine">
<h2>cleaning tabular data with OpenRefine<a class="headerlink" href="#cleaning-tabular-data-with-openrefine" title="Link to this heading">#</a></h2>
<p><a class="reference external" href="https://openrefine.org/">OpenRefine</a> is an open source GUI tool for working with tabular data. It is especially useful for cleaning and organizing spreadsheet data.</p>
<p>We are going to use this tool to clean the ‚ÄúTitle‚Äù column in our <code class="docutils literal notranslate"><span class="pre">trans.csv</span></code> dataset.</p>
<p>First, download and install the app. <a class="reference external" href="https://openrefine.org/download">Download here</a>.</p>
<p>After installing, when you open the app, it will appear on your browser, like Jupyter Notebooks.</p>
<p>Second, we will import our dataset. On the application page, click the ‚Äúbrowese‚Äù button, select your data source, and press ‚Äúnext‚Äù. On the following page, you‚Äôll see a bunch of options for customizing your project. We don‚Äôt have to change anything, so press ‚ÄúCreate Project‚Äù on the right.</p>
<p>There is so much you can to with OpenRefine, particularly with <a class="reference external" href="https://openrefine.org/docs/manual/facets">Facets</a> and <a class="reference external" href="https://openrefine.org/docs/manual/facets#text-filter">Filters</a>, which allow you to edit the spreadsheet by applying changes to patterns across cells rather than individual cells. Let‚Äôs say you want to take out some unwanted html elements that appear in your text, or you want to regularize the capitalization or spelling of a certain word or phrase. With facets and filtering, you can easily find the pattern and fix it. See more on this <a class="reference external" href="https://www.youtube.com/watch?v=B70J_H_zAWM&amp;amp;t=73s">tutorial video</a>.</p>
<p>Finally, we will do a bit of cleaning.</p>
<section id="cleaning-the-title-column">
<h3>cleaning the ‚Äútitle‚Äù column<a class="headerlink" href="#cleaning-the-title-column" title="Link to this heading">#</a></h3>
<p>In our case, we are going to work on just one column, the ‚ÄúTitle‚Äù column. We want to delete the text that comes before the title.</p>
<p>Go to the column that says ‚ÄúTitle,‚Äù open the dropdown menu, hover over ‚Äúedit column‚Äù and select ‚Äúsplit into several columns‚Äù</p>
<p><img alt="Split into several columns option" src="../../_images/split.png" /></p>
<p>Then, sure the ‚Äúby separator‚Äù option is selected, which it should be by default. Then, you will choose your ‚Äúseparator,‚Äù in the text box below. A separator is the element by which OpenRefine will know where to split the column. For our dataset, we can use the phrase ‚ÄúSession H.R. 1112‚Äù to split our columns. That way, we can get just the title in its own column, and get rid of the other (original) column.</p>
<p>Now, we need to generate some regex. For this, I went back to Chat GPT and asked it to generate some regex that finds the pattern. I had to combine these results with what I found on the <a class="reference external" href="https://regex-generator.olafneumann.org/">regex generator</a>, in order to get the code to work.</p>
<p><img alt="chatgpt regex" src="../../_images/chat.png" /></p>
<p>Using that, I generated the string, <code class="docutils literal notranslate"><span class="pre">Session\s[A-Za-z]\.\s[A-Za-z]\.\s\d{2,4}</span></code>, and input it into the split cells window, making sure to select the regex tickbox.</p>
<p><img alt="splitting cells by regex expression" src="../../_images/split2.png" /></p>
<p>After this, I got rid of the column, renamed the column I did keep to ‚ÄúTitle,‚Äù and did a ‚Äútransform‚Äù (selecting ‚Äúcommon transform‚Äù) of trailing whitespace. All of these are under the options ‚Äúedit column‚Äù on the dropdown.</p>
<p>And that‚Äôs it! Now my dataset is much cleaner.</p>
<p><img alt="title column cleaned up" src="../../_images/cleaned.png" /></p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./analyzing/cleaning"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../overview.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">chapter overview</p>
      </div>
    </a>
    <a class="right-next"
       href="../pandas.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">introduction to <code class="docutils literal notranslate"><span class="pre">pandas</span></code></p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#inspecting-our-text">inspecting our text</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#looping-through-the-text-to-replace-it">looping through the text to <code class="docutils literal notranslate"><span class="pre">replace()</span></code> it</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#challenge-replacing-with-spaces">challenge: replacing with spaces</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#function-to-automate-cleaning">function to automate cleaning</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cleaning-with-chatgpt">cleaning with chatgpt</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prompt-clean-all-of-the-blank-spaces-and-extraneous-characters-from-this-text-with-python">prompt: clean all of the blank spaces and extraneous characters from this text with python.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#follow-up-prompt">follow-up prompt:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">follow-up prompt:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">follow-up prompt</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">follow-up prompt</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">follow-up prompt</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cleaning-tabular-data-with-openrefine">cleaning tabular data with OpenRefine</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cleaning-the-title-column">cleaning the ‚Äútitle‚Äù column</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Filipa Calado
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      ¬© Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>