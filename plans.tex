% Created 2025-04-16 Wed 14:39
% Intended LaTeX compiler: pdflatex
\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\author{fcalado}
\date{\today}
\title{}
\hypersetup{
 pdfauthor={fcalado},
 pdftitle={},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 29.3 (Org mode 9.6.15)}, 
 pdflang={English}}
\begin{document}

\tableofcontents

\section{week 10: analysis and visualization}
\label{sec:orgb0e0bf3}

Introduction to pandas
\begin{itemize}
\item viewing data
\begin{itemize}
\item info(), head(), tail(), shape, columns, describe()
\item selecting column syntax
\item .values()
\item slicing rows
\end{itemize}
\item sorting data
\begin{itemize}
\item value\_counts('title') \# department, artist display name
\item sort\_values('accessionYear')
\end{itemize}
\item filtering data
\begin{itemize}
\item df['title'] == 'Woman'
\begin{itemize}
\item creates series of booleans
\end{itemize}
\item woman = df['title'] == 'Woman'
\begin{itemize}
\item creates new dataframe, df[woman]
\end{itemize}
\item highlights = df['isHighlight'] == 1.0
\begin{itemize}
\item by boolean condition
\end{itemize}
\item df[highlights].info()
\item courbet = df['artistDisplayName'].str.contains('Courbet',
na=False)
\begin{itemize}
\item using str.contains
\end{itemize}
\item df[courbet]['title']
\end{itemize}
\end{itemize}


Intermediate pandas
\begin{itemize}
\item sorting values
\begin{itemize}
\item df.sort\_values('Bill Type', inplace=True)
\item see "pandas.DataFrame.sort\_values" in docs to understand other
parameters
\item sorted = df.sort\_values(['Bill Type', 'State'])
\begin{itemize}
\item can sort by multiple values, create new df.
\end{itemize}
\end{itemize}
\item filtering by values
\begin{itemize}
\item Which states have the most book bans?
\begin{itemize}
\item df['Bill Type'] == 'Book Ban'
\item books = df['Bill Type'] == 'Book Ban'
\begin{itemize}
\item df[books]
\end{itemize}
\item df[books].value\_counts('State')
\end{itemize}
\item \texttt{str.contains}: filtering by words 
\begin{itemize}
\item df['Bill Type'].str.contains('Bathroom')
\item bathrooms = df['Bill Type'].str.contains('Bathroom')
\item df[bathrooms].info()
\item df[bathrooms].value\_counts('State')
\end{itemize}
\end{itemize}

\item plotting data
\begin{itemize}
\item df.plot(kind='bar')

\item df.value\_counts('Bill Type').plot(kind='bar')

\item adding nlargest(10)

\begin{itemize}
\item df.value\_counts('Bill Type').nlargest(10).plot(kind='bar')
\end{itemize}

\item df.value\_counts('Bill Type').nlargest(10).plot(kind='barh',
xlabel='Number of Bills', title='Most Frequent Categories for
Anti-Trans Bills')

\item df.value\_counts('Bill Type').plot(kind='pie')
\end{itemize}
\end{itemize}
\end{document}
